\hypertarget{network_8c}{\section{network.\-c File Reference}
\label{network_8c}\index{network.\-c@{network.\-c}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}network.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}fdevent.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}connections.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}plugin.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}joblist.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}configfile.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}network\-\_\-backends.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sys-\/mmap.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sys-\/socket.\-h\char`\"{}}\\*
{\ttfamily \#include $<$sys/types.\-h$>$}\\*
{\ttfamily \#include $<$sys/stat.\-h$>$}\\*
{\ttfamily \#include $<$sys/time.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$fcntl.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$assert.\-h$>$}\\*
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbf}{network\-\_\-backend\-\_\-t} \{ \hyperlink{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa2235a8019f15132ab18ccc634e651727}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T}, 
\hyperlink{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfafdadb5fc639d9c87421768e02395a41e}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E}, 
\hyperlink{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa8b93537e95af3fe7624356df8fb42109}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V}, 
\hyperlink{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa19c3e13388cb35080e56326644ae76ba}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{network_8c_aa86c02d8d40d13df8a282608c5b3510c}{network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable} (const int fd)
\item 
static \hyperlink{settings_8h_a2a8ffc3e29980db202f39ab85ab7e98e}{handler\-\_\-t} \hyperlink{network_8c_ad44b7832b9270a337e243da91c7667b1}{network\-\_\-server\-\_\-handle\-\_\-fdevent} (\hyperlink{structserver}{server} $\ast$srv, void $\ast$context, int revents)
\item 
static int \hyperlink{network_8c_a2e1a55e5230ebd31af7de35801c76cf1}{network\-\_\-server\-\_\-init} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structbuffer}{buffer} $\ast$host\-\_\-token, \hyperlink{structspecific__config}{specific\-\_\-config} $\ast$s)
\item 
int \hyperlink{network_8c_ad47ab2cd840bb857511e00ec232502fb}{network\-\_\-close} (\hyperlink{structserver}{server} $\ast$srv)
\item 
int \hyperlink{network_8c_a60a8fa94c590650e7c46df887870d1b1}{network\-\_\-init} (\hyperlink{structserver}{server} $\ast$srv)
\item 
int \hyperlink{network_8c_af0c2bd3c5d09cad7a9b46f9164299aae}{network\-\_\-register\-\_\-fdevents} (\hyperlink{structserver}{server} $\ast$srv)
\item 
int \hyperlink{network_8c_aa611c093431f7134129673c02c25bbda}{network\-\_\-write\-\_\-chunkqueue} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structchunkqueue}{chunkqueue} $\ast$cq, off\-\_\-t max\-\_\-bytes)
\end{DoxyCompactItemize}


\subsection{Enumeration Type Documentation}
\hypertarget{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbf}{\index{network.\-c@{network.\-c}!network\-\_\-backend\-\_\-t@{network\-\_\-backend\-\_\-t}}
\index{network\-\_\-backend\-\_\-t@{network\-\_\-backend\-\_\-t}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-backend\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf network\-\_\-backend\-\_\-t}}}\label{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbf}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T}!network.\-c@{network.\-c}}\index{network.\-c@{network.\-c}!N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T}}\item[{\em 
\hypertarget{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa2235a8019f15132ab18ccc634e651727}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T}\label{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa2235a8019f15132ab18ccc634e651727}
}]\index{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E}!network.\-c@{network.\-c}}\index{network.\-c@{network.\-c}!N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E}}\item[{\em 
\hypertarget{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfafdadb5fc639d9c87421768e02395a41e}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E}\label{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfafdadb5fc639d9c87421768e02395a41e}
}]\index{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V}!network.\-c@{network.\-c}}\index{network.\-c@{network.\-c}!N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V}}\item[{\em 
\hypertarget{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa8b93537e95af3fe7624356df8fb42109}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V}\label{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa8b93537e95af3fe7624356df8fb42109}
}]\index{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E}!network.\-c@{network.\-c}}\index{network.\-c@{network.\-c}!N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E@{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E}}\item[{\em 
\hypertarget{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa19c3e13388cb35080e56326644ae76ba}{N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E}\label{network_8c_a5e14b0ba135d464ed15b47d88b0c0dbfa19c3e13388cb35080e56326644ae76ba}
}]\end{description}
\end{Desc}


\subsection{Function Documentation}
\hypertarget{network_8c_aa86c02d8d40d13df8a282608c5b3510c}{\index{network.\-c@{network.\-c}!network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable@{network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable}}
\index{network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable@{network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable}]{\setlength{\rightskip}{0pt plus 5cm}void network\-\_\-accept\-\_\-tcp\-\_\-nagle\-\_\-disable (
\begin{DoxyParamCaption}
\item[{const int}]{fd}
\end{DoxyParamCaption}
)}}\label{network_8c_aa86c02d8d40d13df8a282608c5b3510c}


Referenced by connection\-\_\-accept(), and server\-\_\-oneshot\-\_\-init().

\hypertarget{network_8c_ad47ab2cd840bb857511e00ec232502fb}{\index{network.\-c@{network.\-c}!network\-\_\-close@{network\-\_\-close}}
\index{network\-\_\-close@{network\-\_\-close}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-close}]{\setlength{\rightskip}{0pt plus 5cm}int network\-\_\-close (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv}
\end{DoxyParamCaption}
)}}\label{network_8c_ad47ab2cd840bb857511e00ec232502fb}


References buffer\-\_\-free(), server\-::ev, server\-\_\-socket\-::fd, server\-\_\-socket\-::fde\-\_\-ndx, fdevent\-\_\-event\-\_\-del(), fdevent\-\_\-unregister(), server\-\_\-socket\-\_\-array\-::ptr, server\-::srv\-\_\-sockets, server\-\_\-socket\-::srv\-\_\-token, and server\-\_\-socket\-\_\-array\-::used.



Referenced by main().

\hypertarget{network_8c_a60a8fa94c590650e7c46df887870d1b1}{\index{network.\-c@{network.\-c}!network\-\_\-init@{network\-\_\-init}}
\index{network\-\_\-init@{network\-\_\-init}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int network\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv}
\end{DoxyParamCaption}
)}}\label{network_8c_a60a8fa94c590650e7c46df887870d1b1}


References server\-\_\-config\-::bindhost, buffer\-\_\-append\-\_\-int(), buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-equal(), buffer\-\_\-is\-\_\-equal\-\_\-string(), buffer\-\_\-string\-\_\-is\-\_\-empty(), data\-\_\-config\-::comp, C\-O\-M\-P\-\_\-\-H\-T\-T\-P\-\_\-\-H\-O\-S\-T, C\-O\-M\-P\-\_\-\-S\-E\-R\-V\-E\-R\-\_\-\-S\-O\-C\-K\-E\-T, data\-\_\-config\-::cond, C\-O\-N\-F\-I\-G\-\_\-\-C\-O\-N\-D\-\_\-\-E\-Q, server\-::config\-\_\-context, server\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, array\-::data, log\-\_\-error\-\_\-write(), server\-\_\-config\-::network\-\_\-backend, N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-S\-E\-N\-D\-F\-I\-L\-E, N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-U\-N\-S\-E\-T, N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E, server\-::network\-\_\-backend\-\_\-write, N\-E\-T\-W\-O\-R\-K\-\_\-\-B\-A\-C\-K\-E\-N\-D\-\_\-\-W\-R\-I\-T\-E\-V, network\-\_\-server\-\_\-init(), network\-\_\-write\-\_\-chunkqueue\-\_\-write(), network\-\_\-write\-\_\-chunkqueue\-\_\-writev(), server\-\_\-config\-::port, buffer\-::ptr, server\-\_\-socket\-\_\-array\-::ptr, server\-::srv\-\_\-sockets, server\-\_\-socket\-::srv\-\_\-token, server\-::srvconf, specific\-\_\-config\-::ssl\-\_\-ca\-\_\-file, specific\-\_\-config\-::ssl\-\_\-cipher\-\_\-list, specific\-\_\-config\-::ssl\-\_\-dh\-\_\-file, specific\-\_\-config\-::ssl\-\_\-ec\-\_\-curve, specific\-\_\-config\-::ssl\-\_\-empty\-\_\-fragments, specific\-\_\-config\-::ssl\-\_\-enabled, specific\-\_\-config\-::ssl\-\_\-honor\-\_\-cipher\-\_\-order, server\-::ssl\-\_\-is\-\_\-init, specific\-\_\-config\-::ssl\-\_\-pemfile, specific\-\_\-config\-::ssl\-\_\-read\-\_\-ahead, specific\-\_\-config\-::ssl\-\_\-use\-\_\-sslv2, specific\-\_\-config\-::ssl\-\_\-use\-\_\-sslv3, specific\-\_\-config\-::ssl\-\_\-verifyclient, specific\-\_\-config\-::ssl\-\_\-verifyclient\-\_\-depth, specific\-\_\-config\-::ssl\-\_\-verifyclient\-\_\-enforce, data\-\_\-config\-::string, array\-::used, and server\-\_\-socket\-\_\-array\-::used.



Referenced by main().

\hypertarget{network_8c_af0c2bd3c5d09cad7a9b46f9164299aae}{\index{network.\-c@{network.\-c}!network\-\_\-register\-\_\-fdevents@{network\-\_\-register\-\_\-fdevents}}
\index{network\-\_\-register\-\_\-fdevents@{network\-\_\-register\-\_\-fdevents}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-register\-\_\-fdevents}]{\setlength{\rightskip}{0pt plus 5cm}int network\-\_\-register\-\_\-fdevents (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv}
\end{DoxyParamCaption}
)}}\label{network_8c_af0c2bd3c5d09cad7a9b46f9164299aae}


References server\-::ev, server\-\_\-socket\-::fd, server\-\_\-socket\-::fde\-\_\-ndx, fdevent\-\_\-event\-\_\-set(), F\-D\-E\-V\-E\-N\-T\-\_\-\-I\-N, fdevent\-\_\-register(), fdevent\-\_\-reset(), network\-\_\-server\-\_\-handle\-\_\-fdevent(), server\-\_\-socket\-\_\-array\-::ptr, server\-::sockets\-\_\-disabled, server\-::srv\-\_\-sockets, and server\-\_\-socket\-\_\-array\-::used.



Referenced by main().

\hypertarget{network_8c_ad44b7832b9270a337e243da91c7667b1}{\index{network.\-c@{network.\-c}!network\-\_\-server\-\_\-handle\-\_\-fdevent@{network\-\_\-server\-\_\-handle\-\_\-fdevent}}
\index{network\-\_\-server\-\_\-handle\-\_\-fdevent@{network\-\_\-server\-\_\-handle\-\_\-fdevent}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-server\-\_\-handle\-\_\-fdevent}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf handler\-\_\-t} network\-\_\-server\-\_\-handle\-\_\-fdevent (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{void $\ast$}]{context, }
\item[{int}]{revents}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{network_8c_ad44b7832b9270a337e243da91c7667b1}


References connection\-\_\-accept(), connection\-\_\-state\-\_\-machine(), server\-\_\-socket\-::fd, F\-D\-E\-V\-E\-N\-T\-\_\-\-I\-N, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, log\-\_\-error\-\_\-write(), and U\-N\-U\-S\-E\-D.



Referenced by network\-\_\-register\-\_\-fdevents().

\hypertarget{network_8c_a2e1a55e5230ebd31af7de35801c76cf1}{\index{network.\-c@{network.\-c}!network\-\_\-server\-\_\-init@{network\-\_\-server\-\_\-init}}
\index{network\-\_\-server\-\_\-init@{network\-\_\-server\-\_\-init}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-server\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}static int network\-\_\-server\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf buffer} $\ast$}]{host\-\_\-token, }
\item[{{\bf specific\-\_\-config} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{network_8c_a2e1a55e5230ebd31af7de35801c76cf1}


References server\-\_\-socket\-::addr, buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-is\-\_\-equal\-\_\-string(), buffer\-\_\-string\-\_\-length(), C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, server\-::cur\-\_\-fds, specific\-\_\-config\-::defer\-\_\-accept, server\-::ev, server\-\_\-socket\-::fd, server\-\_\-socket\-::fde\-\_\-ndx, fdevent\-\_\-event\-\_\-del(), fdevent\-\_\-fcntl\-\_\-set\-\_\-nb(), fdevent\-\_\-socket\-\_\-cloexec(), fdevent\-\_\-socket\-\_\-nb\-\_\-cloexec(), fdevent\-\_\-unregister(), force\-\_\-assert, sock\-\_\-addr\-::ipv4, server\-\_\-socket\-::is\-\_\-ssl, specific\-\_\-config\-::listen\-\_\-backlog, log\-\_\-error\-\_\-write(), sock\-\_\-addr\-::plain, server\-\_\-config\-::port, server\-\_\-config\-::preflight\-\_\-check, buffer\-::ptr, server\-\_\-socket\-\_\-array\-::ptr, specific\-\_\-config\-::set\-\_\-v6only, server\-\_\-socket\-\_\-array\-::size, server\-::sockets\-\_\-disabled, server\-::srv\-\_\-sockets, server\-\_\-socket\-::srv\-\_\-token, server\-::srvconf, specific\-\_\-config\-::ssl\-\_\-enabled, specific\-\_\-config\-::use\-\_\-ipv6, and server\-\_\-socket\-\_\-array\-::used.



Referenced by network\-\_\-init().

\hypertarget{network_8c_aa611c093431f7134129673c02c25bbda}{\index{network.\-c@{network.\-c}!network\-\_\-write\-\_\-chunkqueue@{network\-\_\-write\-\_\-chunkqueue}}
\index{network\-\_\-write\-\_\-chunkqueue@{network\-\_\-write\-\_\-chunkqueue}!network.c@{network.\-c}}
\subsubsection[{network\-\_\-write\-\_\-chunkqueue}]{\setlength{\rightskip}{0pt plus 5cm}int network\-\_\-write\-\_\-chunkqueue (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf chunkqueue} $\ast$}]{cq, }
\item[{off\-\_\-t}]{max\-\_\-bytes}
\end{DoxyParamCaption}
)}}\label{network_8c_aa611c093431f7134129673c02c25bbda}


References chunkqueue\-::bytes\-\_\-out, connection\-::bytes\-\_\-written, connection\-::bytes\-\_\-written\-\_\-cur\-\_\-second, chunkqueue\-\_\-is\-\_\-empty(), chunkqueue\-\_\-remove\-\_\-finished\-\_\-chunks(), connection\-::conf, connection\-::fd, chunkqueue\-::first, specific\-\_\-config\-::global\-\_\-bytes\-\_\-per\-\_\-second\-\_\-cnt\-\_\-ptr, specific\-\_\-config\-::global\-\_\-kbytes\-\_\-per\-\_\-second, server\-\_\-socket\-::is\-\_\-ssl, specific\-\_\-config\-::kbytes\-\_\-per\-\_\-second, server\-::network\-\_\-backend\-\_\-write, chunk\-::next, connection\-::srv\-\_\-socket, and connection\-::traffic\-\_\-limit\-\_\-reached.



Referenced by connection\-\_\-handle\-\_\-write().

