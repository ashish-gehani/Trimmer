\hypertarget{http-header-glue_8c}{\section{http-\/header-\/glue.c File Reference}
\label{http-header-glue_8c}\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}base.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}array.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}buffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}etag.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\-\_\-chunk.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}response.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stat\-\_\-cache.\-h\char`\"{}}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{http-header-glue_8c_af843f4449790d30e96e67c7f65cc225e}{response\-\_\-header\-\_\-insert} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, const char $\ast$key, size\-\_\-t keylen, const char $\ast$value, size\-\_\-t vallen)
\item 
int \hyperlink{http-header-glue_8c_aca062a70078c8b89bb2fc0c09d38a348}{response\-\_\-header\-\_\-overwrite} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, const char $\ast$key, size\-\_\-t keylen, const char $\ast$value, size\-\_\-t vallen)
\item 
int \hyperlink{http-header-glue_8c_a3ce3b22086acdc60b94f0a4c9ea60e86}{response\-\_\-header\-\_\-append} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, const char $\ast$key, size\-\_\-t keylen, const char $\ast$value, size\-\_\-t vallen)
\item 
int \hyperlink{http-header-glue_8c_ab5cf9b8d7ff0facd7b5334514de07a15}{http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con)
\item 
\hyperlink{structbuffer}{buffer} $\ast$ \hyperlink{http-header-glue_8c_ae0692991b1b43d85e062a3eacd5d176c}{strftime\-\_\-cache\-\_\-get} (\hyperlink{structserver}{server} $\ast$srv, time\-\_\-t last\-\_\-mod)
\item 
int \hyperlink{http-header-glue_8c_a62af03671bb5ddd52237444182aead90}{http\-\_\-response\-\_\-handle\-\_\-cachable} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$mtime)
\item 
static int \hyperlink{http-header-glue_8c_a62168175923482432ea74bc0cafdf2b6}{http\-\_\-response\-\_\-parse\-\_\-range} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$path, \hyperlink{structstat__cache__entry}{stat\-\_\-cache\-\_\-entry} $\ast$sce)
\item 
void \hyperlink{http-header-glue_8c_a4ad4018401db78887e2b6a48b6a9c89b}{http\-\_\-response\-\_\-send\-\_\-file} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$path)
\item 
void \hyperlink{http-header-glue_8c_afb1ab09bdd47d4a034ca02d5239230c2}{http\-\_\-response\-\_\-xsendfile} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$path, const \hyperlink{structarray}{array} $\ast$xdocroot)
\item 
void \hyperlink{http-header-glue_8c_af6534bdaeed2f8638cc92a3609227465}{http\-\_\-response\-\_\-backend\-\_\-error} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con)
\item 
void \hyperlink{http-header-glue_8c_af8bb44e05ab2f966671ce0c7b4113111}{http\-\_\-response\-\_\-backend\-\_\-done} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con)
\item 
int \hyperlink{http-header-glue_8c_aae6678578ac7631becfa93103cc66645}{http\-\_\-cgi\-\_\-headers} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{response_8h_afca5a5c414cac8e582ec2cb69c84dadc}{http\-\_\-cgi\-\_\-opts} $\ast$opts, \hyperlink{response_8h_afb58d73beec22e6ba855479497039488}{http\-\_\-cgi\-\_\-header\-\_\-append\-\_\-cb} cb, void $\ast$vdata)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{http-header-glue_8c_aae6678578ac7631becfa93103cc66645}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-cgi\-\_\-headers@{http\-\_\-cgi\-\_\-headers}}
\index{http\-\_\-cgi\-\_\-headers@{http\-\_\-cgi\-\_\-headers}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-cgi\-\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}int http\-\_\-cgi\-\_\-headers (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf http\-\_\-cgi\-\_\-opts} $\ast$}]{opts, }
\item[{{\bf http\-\_\-cgi\-\_\-header\-\_\-append\-\_\-cb}}]{cb, }
\item[{void $\ast$}]{vdata}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_aae6678578ac7631becfa93103cc66645}
/app1/index/list

stripping /app1 or /app1/ should lead to

/index/list

References server\-\_\-socket\-::addr, http\-\_\-cgi\-\_\-opts\-\_\-t\-::authorizer, physical\-::basedir, http\-\_\-cgi\-\_\-opts\-\_\-t\-::break\-\_\-scriptfilename\-\_\-for\-\_\-php, buffer\-\_\-append\-\_\-string\-\_\-buffer(), buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-copy\-\_\-string\-\_\-encoded\-\_\-cgi\-\_\-varnames(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-is\-\_\-equal(), buffer\-\_\-is\-\_\-equal\-\_\-caseless\-\_\-string(), buffer\-\_\-string\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), connection\-::conf, C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, request\-::content\-\_\-length, array\-::data, http\-\_\-cgi\-\_\-opts\-\_\-t\-::docroot, connection\-::dst\-\_\-addr, connection\-::dst\-\_\-addr\-\_\-buf, connection\-::environment, connection\-::error\-\_\-handler\-\_\-saved\-\_\-status, connection\-::fd, force\-\_\-assert, get\-\_\-http\-\_\-method\-\_\-name(), get\-\_\-http\-\_\-version\-\_\-name(), request\-::headers, request\-::http\-\_\-method, request\-::http\-\_\-version, sock\-\_\-addr\-::ipv4, L\-I\-\_\-\-I\-T\-O\-S\-T\-R\-I\-N\-G\-\_\-\-L\-E\-N\-G\-T\-H, li\-\_\-itostrn(), li\-\_\-utostrn(), request\-::orig\-\_\-uri, request\-\_\-uri\-::path, physical\-::path, request\-::pathinfo, connection\-::physical, sock\-\_\-addr\-::plain, buffer\-::ptr, request\-\_\-uri\-::query, connection\-::request, request\-\_\-uri\-::scheme, connection\-::server\-\_\-name, specific\-\_\-config\-::server\-\_\-tag, connection\-::srv\-\_\-socket, http\-\_\-cgi\-\_\-opts\-\_\-t\-::strip\-\_\-request\-\_\-uri, server\-::tmp\-\_\-buf, request\-::uri, connection\-::uri, array\-::used, and data\-\_\-string\-::value.



Referenced by build\-\_\-ssi\-\_\-cgi\-\_\-vars(), cgi\-\_\-create\-\_\-env(), fcgi\-\_\-create\-\_\-env(), and scgi\-\_\-create\-\_\-env().

\hypertarget{http-header-glue_8c_af8bb44e05ab2f966671ce0c7b4113111}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-backend\-\_\-done@{http\-\_\-response\-\_\-backend\-\_\-done}}
\index{http\-\_\-response\-\_\-backend\-\_\-done@{http\-\_\-response\-\_\-backend\-\_\-done}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-backend\-\_\-done}]{\setlength{\rightskip}{0pt plus 5cm}void http\-\_\-response\-\_\-backend\-\_\-done (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_af8bb44e05ab2f966671ce0c7b4113111}


References C\-O\-N\-\_\-\-S\-T\-A\-T\-E\-\_\-\-H\-A\-N\-D\-L\-E\-\_\-\-R\-E\-Q\-U\-E\-S\-T, C\-O\-N\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-E\-A\-D\-\_\-\-P\-O\-S\-T, C\-O\-N\-\_\-\-S\-T\-A\-T\-E\-\_\-\-W\-R\-I\-T\-E, D\-I\-R\-E\-C\-T, connection\-::file\-\_\-finished, connection\-::file\-\_\-started, http\-\_\-chunk\-\_\-close(), connection\-::http\-\_\-status, connection\-::mode, and connection\-::state.



Referenced by cgi\-\_\-connection\-\_\-close(), fcgi\-\_\-connection\-\_\-close(), proxy\-\_\-connection\-\_\-close(), and scgi\-\_\-connection\-\_\-close().

\hypertarget{http-header-glue_8c_af6534bdaeed2f8638cc92a3609227465}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-backend\-\_\-error@{http\-\_\-response\-\_\-backend\-\_\-error}}
\index{http\-\_\-response\-\_\-backend\-\_\-error@{http\-\_\-response\-\_\-backend\-\_\-error}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-backend\-\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}void http\-\_\-response\-\_\-backend\-\_\-error (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_af6534bdaeed2f8638cc92a3609227465}


References D\-I\-R\-E\-C\-T, connection\-::file\-\_\-finished, connection\-::file\-\_\-started, connection\-::keep\-\_\-alive, connection\-::mode, and U\-N\-U\-S\-E\-D.



Referenced by fcgi\-\_\-handle\-\_\-fdevent(), fcgi\-\_\-recv\-\_\-response(), proxy\-\_\-handle\-\_\-fdevent(), proxy\-\_\-recv\-\_\-response(), scgi\-\_\-handle\-\_\-fdevent(), and scgi\-\_\-recv\-\_\-response().

\hypertarget{http-header-glue_8c_a62af03671bb5ddd52237444182aead90}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-handle\-\_\-cachable@{http\-\_\-response\-\_\-handle\-\_\-cachable}}
\index{http\-\_\-response\-\_\-handle\-\_\-cachable@{http\-\_\-response\-\_\-handle\-\_\-cachable}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-handle\-\_\-cachable}]{\setlength{\rightskip}{0pt plus 5cm}int http\-\_\-response\-\_\-handle\-\_\-cachable (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{mtime}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_a62af03671bb5ddd52237444182aead90}
parsing failed, let's get out of here

References D\-I\-R\-E\-C\-T, physical\-::etag, etag\-\_\-is\-\_\-equal(), H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-I\-N\-I\-S\-H\-E\-D, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, request\-::http\-\_\-if\-\_\-modified\-\_\-since, request\-::http\-\_\-if\-\_\-none\-\_\-match, request\-::http\-\_\-method, H\-T\-T\-P\-\_\-\-M\-E\-T\-H\-O\-D\-\_\-\-G\-E\-T, H\-T\-T\-P\-\_\-\-M\-E\-T\-H\-O\-D\-\_\-\-H\-E\-A\-D, connection\-::http\-\_\-status, connection\-::mode, connection\-::physical, buffer\-::ptr, connection\-::request, and U\-N\-U\-S\-E\-D.



Referenced by cache\-\_\-parse\-\_\-lua(), http\-\_\-response\-\_\-send\-\_\-file(), mod\-\_\-ssi\-\_\-handle\-\_\-request(), and P\-H\-Y\-S\-I\-C\-A\-L\-P\-A\-T\-H\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_a62168175923482432ea74bc0cafdf2b6}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-parse\-\_\-range@{http\-\_\-response\-\_\-parse\-\_\-range}}
\index{http\-\_\-response\-\_\-parse\-\_\-range@{http\-\_\-response\-\_\-parse\-\_\-range}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-parse\-\_\-range}]{\setlength{\rightskip}{0pt plus 5cm}static int http\-\_\-response\-\_\-parse\-\_\-range (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{path, }
\item[{{\bf stat\-\_\-cache\-\_\-entry} $\ast$}]{sce}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{http-header-glue_8c_a62168175923482432ea74bc0cafdf2b6}


References array\-\_\-get\-\_\-element(), buffer\-\_\-append\-\_\-int(), buffer\-\_\-append\-\_\-string(), buffer\-\_\-append\-\_\-string\-\_\-buffer(), buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-string\-\_\-length(), chunkqueue\-\_\-append\-\_\-buffer(), chunkqueue\-\_\-append\-\_\-file(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, response\-::content\-\_\-length, response\-::headers, request\-::http\-\_\-range, connection\-::http\-\_\-status, connection\-::request, connection\-::response, response\-\_\-header\-\_\-insert(), response\-\_\-header\-\_\-overwrite(), stat\-\_\-cache\-\_\-entry\-::st, server\-::tmp\-\_\-buf, data\-\_\-string\-::value, and connection\-::write\-\_\-queue.



Referenced by http\-\_\-response\-\_\-send\-\_\-file().

\hypertarget{http-header-glue_8c_ab5cf9b8d7ff0facd7b5334514de07a15}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory@{http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory}}
\index{http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory@{http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory}]{\setlength{\rightskip}{0pt plus 5cm}int http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_ab5cf9b8d7ff0facd7b5334514de07a15}


References request\-\_\-uri\-::authority, buffer\-\_\-append\-\_\-int(), buffer\-\_\-append\-\_\-string(), buffer\-\_\-append\-\_\-string\-\_\-buffer(), buffer\-\_\-append\-\_\-string\-\_\-encoded(), buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-is\-\_\-equal\-\_\-caseless\-\_\-string(), buffer\-\_\-string\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, E\-N\-C\-O\-D\-I\-N\-G\-\_\-\-R\-E\-L\-\_\-\-U\-R\-I, connection\-::fd, connection\-::file\-\_\-finished, connection\-::http\-\_\-status, sock\-\_\-addr\-::ipv4, log\-\_\-error\-\_\-write(), request\-\_\-uri\-::path, sock\-\_\-addr\-::plain, server\-\_\-config\-::port, request\-\_\-uri\-::query, response\-\_\-header\-\_\-insert(), request\-\_\-uri\-::scheme, server\-::srvconf, and connection\-::uri.



Referenced by http\-\_\-response\-\_\-prepare(), S\-U\-B\-R\-E\-Q\-U\-E\-S\-T\-\_\-\-F\-U\-N\-C(), and U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_a4ad4018401db78887e2b6a48b6a9c89b}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-send\-\_\-file@{http\-\_\-response\-\_\-send\-\_\-file}}
\index{http\-\_\-response\-\_\-send\-\_\-file@{http\-\_\-response\-\_\-send\-\_\-file}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-send\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}void http\-\_\-response\-\_\-send\-\_\-file (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{path}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_a4ad4018401db78887e2b6a48b6a9c89b}
client wants a E\-Tag

we don't have a Last-\/\-Modified and can match the If-\/\-Range\-:

sending all

References array\-\_\-get\-\_\-element(), buffer\-\_\-is\-\_\-equal(), buffer\-\_\-string\-\_\-is\-\_\-empty(), connection\-::conf, C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, stat\-\_\-cache\-\_\-entry\-::content\-\_\-type, physical\-::etag, stat\-\_\-cache\-\_\-entry\-::etag, connection\-::etag\-\_\-flags, etag\-\_\-mutate(), connection\-::file\-\_\-finished, specific\-\_\-config\-::follow\-\_\-symlink, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-I\-N\-I\-S\-H\-E\-D, request\-::headers, response\-::headers, http\-\_\-chunk\-\_\-append\-\_\-file(), request\-::http\-\_\-range, http\-\_\-response\-\_\-handle\-\_\-cachable(), http\-\_\-response\-\_\-parse\-\_\-range(), connection\-::http\-\_\-status, log\-\_\-error\-\_\-write(), specific\-\_\-config\-::log\-\_\-file\-\_\-not\-\_\-found, specific\-\_\-config\-::log\-\_\-request\-\_\-handling, stat\-\_\-cache\-\_\-entry\-::name, request\-\_\-uri\-::path, connection\-::physical, buffer\-::ptr, specific\-\_\-config\-::range\-\_\-requests, connection\-::request, connection\-::response, response\-\_\-header\-\_\-overwrite(), stat\-\_\-cache\-\_\-entry\-::st, stat\-\_\-cache\-\_\-get\-\_\-entry(), strftime\-\_\-cache\-\_\-get(), connection\-::uri, and data\-\_\-string\-::value.



Referenced by http\-\_\-response\-\_\-xsendfile(), and U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_afb1ab09bdd47d4a034ca02d5239230c2}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!http\-\_\-response\-\_\-xsendfile@{http\-\_\-response\-\_\-xsendfile}}
\index{http\-\_\-response\-\_\-xsendfile@{http\-\_\-response\-\_\-xsendfile}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{http\-\_\-response\-\_\-xsendfile}]{\setlength{\rightskip}{0pt plus 5cm}void http\-\_\-response\-\_\-xsendfile (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{path, }
\item[{const {\bf array} $\ast$}]{xdocroot}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_afb1ab09bdd47d4a034ca02d5239230c2}


References array\-\_\-get\-\_\-element(), buffer\-\_\-path\-\_\-simplify(), buffer\-\_\-reset(), buffer\-\_\-string\-\_\-length(), buffer\-\_\-to\-\_\-lower(), buffer\-\_\-urldecode\-\_\-path(), connection\-::conf, response\-::content\-\_\-length, array\-::data, D\-I\-R\-E\-C\-T, connection\-::file\-\_\-started, specific\-\_\-config\-::force\-\_\-lowercase\-\_\-filenames, response\-::headers, H\-T\-T\-P\-\_\-\-C\-O\-N\-T\-E\-N\-T\-\_\-\-L\-E\-N\-G\-T\-H, http\-\_\-response\-\_\-send\-\_\-file(), connection\-::http\-\_\-status, log\-\_\-error\-\_\-write(), connection\-::mode, connection\-::parsed\-\_\-response, buffer\-::ptr, connection\-::response, array\-::used, and data\-\_\-string\-::value.



Referenced by cgi\-\_\-demux\-\_\-response(), fcgi\-\_\-demux\-\_\-response(), and scgi\-\_\-demux\-\_\-response().

\hypertarget{http-header-glue_8c_a3ce3b22086acdc60b94f0a4c9ea60e86}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!response\-\_\-header\-\_\-append@{response\-\_\-header\-\_\-append}}
\index{response\-\_\-header\-\_\-append@{response\-\_\-header\-\_\-append}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{response\-\_\-header\-\_\-append}]{\setlength{\rightskip}{0pt plus 5cm}int response\-\_\-header\-\_\-append (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{const char $\ast$}]{key, }
\item[{size\-\_\-t}]{keylen, }
\item[{const char $\ast$}]{value, }
\item[{size\-\_\-t}]{vallen}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_a3ce3b22086acdc60b94f0a4c9ea60e86}


References array\-\_\-get\-\_\-element(), buffer\-\_\-append\-\_\-string\-\_\-len(), C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, response\-::headers, connection\-::response, response\-\_\-header\-\_\-insert(), U\-N\-U\-S\-E\-D, and data\-\_\-string\-::value.



Referenced by C\-O\-N\-N\-E\-C\-T\-I\-O\-N\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_af843f4449790d30e96e67c7f65cc225e}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!response\-\_\-header\-\_\-insert@{response\-\_\-header\-\_\-insert}}
\index{response\-\_\-header\-\_\-insert@{response\-\_\-header\-\_\-insert}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{response\-\_\-header\-\_\-insert}]{\setlength{\rightskip}{0pt plus 5cm}int response\-\_\-header\-\_\-insert (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{const char $\ast$}]{key, }
\item[{size\-\_\-t}]{keylen, }
\item[{const char $\ast$}]{value, }
\item[{size\-\_\-t}]{vallen}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_af843f4449790d30e96e67c7f65cc225e}


References array\-\_\-get\-\_\-unused\-\_\-element(), array\-\_\-insert\-\_\-unique(), buffer\-\_\-copy\-\_\-string\-\_\-len(), data\-\_\-response\-\_\-init(), response\-::headers, connection\-::response, T\-Y\-P\-E\-\_\-\-S\-T\-R\-I\-N\-G, U\-N\-U\-S\-E\-D, and data\-\_\-string\-::value.



Referenced by C\-O\-N\-N\-E\-C\-T\-I\-O\-N\-\_\-\-F\-U\-N\-C(), connection\-\_\-handle\-\_\-errdoc\-\_\-init(), connection\-\_\-handle\-\_\-write\-\_\-prepare(), http\-\_\-response\-\_\-parse\-\_\-range(), http\-\_\-response\-\_\-prepare(), http\-\_\-response\-\_\-redirect\-\_\-to\-\_\-directory(), mod\-\_\-auth\-\_\-send\-\_\-401\-\_\-unauthorized\-\_\-basic(), mod\-\_\-auth\-\_\-send\-\_\-401\-\_\-unauthorized\-\_\-digest(), mod\-\_\-authn\-\_\-gssapi\-\_\-send\-\_\-401\-\_\-unauthorized\-\_\-basic(), mod\-\_\-authn\-\_\-gssapi\-\_\-send\-\_\-401\-\_\-unauthorized\-\_\-negotiate(), mod\-\_\-redirect\-\_\-uri\-\_\-handler(), P\-H\-Y\-S\-I\-C\-A\-L\-P\-A\-T\-H\-\_\-\-F\-U\-N\-C(), response\-\_\-header\-\_\-append(), response\-\_\-header\-\_\-overwrite(), and U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_aca062a70078c8b89bb2fc0c09d38a348}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!response\-\_\-header\-\_\-overwrite@{response\-\_\-header\-\_\-overwrite}}
\index{response\-\_\-header\-\_\-overwrite@{response\-\_\-header\-\_\-overwrite}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{response\-\_\-header\-\_\-overwrite}]{\setlength{\rightskip}{0pt plus 5cm}int response\-\_\-header\-\_\-overwrite (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{const char $\ast$}]{key, }
\item[{size\-\_\-t}]{keylen, }
\item[{const char $\ast$}]{value, }
\item[{size\-\_\-t}]{vallen}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_aca062a70078c8b89bb2fc0c09d38a348}


References array\-\_\-get\-\_\-element(), buffer\-\_\-copy\-\_\-string(), response\-::headers, connection\-::response, response\-\_\-header\-\_\-insert(), U\-N\-U\-S\-E\-D, and data\-\_\-string\-::value.



Referenced by cache\-\_\-parse\-\_\-lua(), C\-O\-N\-N\-E\-C\-T\-I\-O\-N\-\_\-\-F\-U\-N\-C(), connection\-\_\-handle\-\_\-write\-\_\-prepare(), http\-\_\-list\-\_\-directory(), http\-\_\-response\-\_\-parse\-\_\-range(), http\-\_\-response\-\_\-send\-\_\-file(), http\-\_\-response\-\_\-write\-\_\-header(), magnet\-\_\-copy\-\_\-response\-\_\-header(), mod\-\_\-ssi\-\_\-handle\-\_\-request(), mod\-\_\-status\-\_\-handle\-\_\-server\-\_\-config(), mod\-\_\-status\-\_\-handle\-\_\-server\-\_\-statistics(), mod\-\_\-status\-\_\-handle\-\_\-server\-\_\-status\-\_\-html(), mod\-\_\-status\-\_\-handle\-\_\-server\-\_\-status\-\_\-json(), mod\-\_\-status\-\_\-handle\-\_\-server\-\_\-status\-\_\-text(), P\-H\-Y\-S\-I\-C\-A\-L\-P\-A\-T\-H\-\_\-\-F\-U\-N\-C(), S\-U\-B\-R\-E\-Q\-U\-E\-S\-T\-\_\-\-F\-U\-N\-C(), and U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{http-header-glue_8c_ae0692991b1b43d85e062a3eacd5d176c}{\index{http-\/header-\/glue.\-c@{http-\/header-\/glue.\-c}!strftime\-\_\-cache\-\_\-get@{strftime\-\_\-cache\-\_\-get}}
\index{strftime\-\_\-cache\-\_\-get@{strftime\-\_\-cache\-\_\-get}!http-header-glue.c@{http-\/header-\/glue.\-c}}
\subsubsection[{strftime\-\_\-cache\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}{\bf buffer}$\ast$ strftime\-\_\-cache\-\_\-get (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{time\-\_\-t}]{last\-\_\-mod}
\end{DoxyParamCaption}
)}}\label{http-header-glue_8c_ae0692991b1b43d85e062a3eacd5d176c}


References buffer\-\_\-append\-\_\-strftime(), buffer\-\_\-string\-\_\-prepare\-\_\-copy(), F\-I\-L\-E\-\_\-\-C\-A\-C\-H\-E\-\_\-\-M\-A\-X, mtime\-\_\-cache\-\_\-type\-::mtime, server\-::mtime\-\_\-cache, and mtime\-\_\-cache\-\_\-type\-::str.



Referenced by http\-\_\-response\-\_\-send\-\_\-file(), mod\-\_\-ssi\-\_\-handle\-\_\-request(), and P\-H\-Y\-S\-I\-C\-A\-L\-P\-A\-T\-H\-\_\-\-F\-U\-N\-C().

