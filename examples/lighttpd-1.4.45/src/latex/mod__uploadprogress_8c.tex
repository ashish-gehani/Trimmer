\hypertarget{mod__uploadprogress_8c}{\section{mod\-\_\-uploadprogress.\-c File Reference}
\label{mod__uploadprogress_8c}\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}base.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}buffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}plugin.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}response.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stat\-\_\-cache.\-h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structconnection__map__entry}{connection\-\_\-map\-\_\-entry}
\item 
struct \hyperlink{structconnection__map}{connection\-\_\-map}
\item 
struct \hyperlink{structplugin__config}{plugin\-\_\-config}
\item 
struct \hyperlink{structplugin__data}{plugin\-\_\-data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mod__uploadprogress_8c_a20876ec7c0c844d0e0c1628528bbb8da}{P\-A\-T\-C\-H}(x)~p-\/$>$conf.\-x = s-\/$>$x;
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{structconnection__map}{connection\-\_\-map} $\ast$ \hyperlink{mod__uploadprogress_8c_aecdacf67904c1eafdf7059da04a21149}{connection\-\_\-map\-\_\-init} ()
\item 
static void \hyperlink{mod__uploadprogress_8c_a376e4eff3685313a46932a74f766ac45}{connection\-\_\-map\-\_\-free} (\hyperlink{structconnection__map}{connection\-\_\-map} $\ast$cm)
\item 
static int \hyperlink{mod__uploadprogress_8c_acda2dccf86a37bda8e1ff72610b7df2b}{connection\-\_\-map\-\_\-insert} (\hyperlink{structconnection__map}{connection\-\_\-map} $\ast$cm, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$con\-\_\-id)
\item 
static \hyperlink{structconnection}{connection} $\ast$ \hyperlink{mod__uploadprogress_8c_a17a64a413602d08f1d024eadcb2351c9}{connection\-\_\-map\-\_\-get\-\_\-connection} (\hyperlink{structconnection__map}{connection\-\_\-map} $\ast$cm, \hyperlink{structbuffer}{buffer} $\ast$con\-\_\-id)
\item 
static int \hyperlink{mod__uploadprogress_8c_af4111115816ce4541f9b9867ef9c459c}{connection\-\_\-map\-\_\-remove\-\_\-connection} (\hyperlink{structconnection__map}{connection\-\_\-map} $\ast$cm, \hyperlink{structconnection}{connection} $\ast$con)
\item 
\hyperlink{mod__uploadprogress_8c_a20e93f2c16553187651d9027718fc690}{I\-N\-I\-T\-\_\-\-F\-U\-N\-C} (mod\-\_\-uploadprogress\-\_\-init)
\item 
\hyperlink{mod__uploadprogress_8c_afbfe2a7fd84fd4586c04cd2bbd9facf2}{F\-R\-E\-E\-\_\-\-F\-U\-N\-C} (mod\-\_\-uploadprogress\-\_\-free)
\item 
\hyperlink{mod__uploadprogress_8c_a08ff5134574d7d672d6e3f348b6ebd89}{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C} (mod\-\_\-uploadprogress\-\_\-set\-\_\-defaults)
\item 
static int \hyperlink{mod__uploadprogress_8c_ac34867a144a607bea1a6dcdcda1c278b}{mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structplugin__data}{plugin\-\_\-data} $\ast$p)
\item 
\hyperlink{mod__uploadprogress_8c_aaa6aeb96442ea2f3e8baf14a9417d574}{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C} (mod\-\_\-uploadprogress\-\_\-uri\-\_\-handler)
\item 
\hyperlink{mod__uploadprogress_8c_a99a0065cc57dd4745ac37dc226f8a30d}{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C} (mod\-\_\-uploadprogress\-\_\-request\-\_\-done)
\item 
int \hyperlink{mod__uploadprogress_8c_aa46bc2b4a4386be71ce34f8c4e26e7a1}{mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init} (\hyperlink{structplugin}{plugin} $\ast$p)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{mod__uploadprogress_8c_a20876ec7c0c844d0e0c1628528bbb8da}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!P\-A\-T\-C\-H@{P\-A\-T\-C\-H}}
\index{P\-A\-T\-C\-H@{P\-A\-T\-C\-H}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{P\-A\-T\-C\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\-A\-T\-C\-H(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~p-\/$>$conf.\-x = s-\/$>$x;}}\label{mod__uploadprogress_8c_a20876ec7c0c844d0e0c1628528bbb8da}


Referenced by mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection().



\subsection{Function Documentation}
\hypertarget{mod__uploadprogress_8c_a376e4eff3685313a46932a74f766ac45}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!connection\-\_\-map\-\_\-free@{connection\-\_\-map\-\_\-free}}
\index{connection\-\_\-map\-\_\-free@{connection\-\_\-map\-\_\-free}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{connection\-\_\-map\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}static void connection\-\_\-map\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-map} $\ast$}]{cm}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_a376e4eff3685313a46932a74f766ac45}


References buffer\-\_\-free(), connection\-\_\-map\-\_\-entry\-::con\-\_\-id, connection\-\_\-map\-::ptr, and connection\-\_\-map\-::size.



Referenced by F\-R\-E\-E\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_a17a64a413602d08f1d024eadcb2351c9}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!connection\-\_\-map\-\_\-get\-\_\-connection@{connection\-\_\-map\-\_\-get\-\_\-connection}}
\index{connection\-\_\-map\-\_\-get\-\_\-connection@{connection\-\_\-map\-\_\-get\-\_\-connection}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{connection\-\_\-map\-\_\-get\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf connection}$\ast$ connection\-\_\-map\-\_\-get\-\_\-connection (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-map} $\ast$}]{cm, }
\item[{{\bf buffer} $\ast$}]{con\-\_\-id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_a17a64a413602d08f1d024eadcb2351c9}


References buffer\-\_\-is\-\_\-equal(), connection\-\_\-map\-\_\-entry\-::con, connection\-\_\-map\-\_\-entry\-::con\-\_\-id, connection\-\_\-map\-::ptr, and connection\-\_\-map\-::used.



Referenced by U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_aecdacf67904c1eafdf7059da04a21149}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!connection\-\_\-map\-\_\-init@{connection\-\_\-map\-\_\-init}}
\index{connection\-\_\-map\-\_\-init@{connection\-\_\-map\-\_\-init}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{connection\-\_\-map\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf connection\-\_\-map}$\ast$ connection\-\_\-map\-\_\-init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_aecdacf67904c1eafdf7059da04a21149}
connection maps 

Referenced by I\-N\-I\-T\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_acda2dccf86a37bda8e1ff72610b7df2b}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!connection\-\_\-map\-\_\-insert@{connection\-\_\-map\-\_\-insert}}
\index{connection\-\_\-map\-\_\-insert@{connection\-\_\-map\-\_\-insert}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{connection\-\_\-map\-\_\-insert}]{\setlength{\rightskip}{0pt plus 5cm}static int connection\-\_\-map\-\_\-insert (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-map} $\ast$}]{cm, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{con\-\_\-id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_acda2dccf86a37bda8e1ff72610b7df2b}


References buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-init(), connection\-\_\-map\-\_\-entry\-::con, connection\-\_\-map\-\_\-entry\-::con\-\_\-id, connection\-\_\-map\-::ptr, connection\-\_\-map\-::size, and connection\-\_\-map\-::used.



Referenced by U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_af4111115816ce4541f9b9867ef9c459c}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!connection\-\_\-map\-\_\-remove\-\_\-connection@{connection\-\_\-map\-\_\-remove\-\_\-connection}}
\index{connection\-\_\-map\-\_\-remove\-\_\-connection@{connection\-\_\-map\-\_\-remove\-\_\-connection}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{connection\-\_\-map\-\_\-remove\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static int connection\-\_\-map\-\_\-remove\-\_\-connection (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-map} $\ast$}]{cm, }
\item[{{\bf connection} $\ast$}]{con}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_af4111115816ce4541f9b9867ef9c459c}


References buffer\-\_\-reset(), connection\-\_\-map\-\_\-entry\-::con, connection\-\_\-map\-\_\-entry\-::con\-\_\-id, connection\-\_\-map\-::ptr, and connection\-\_\-map\-::used.



Referenced by R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_afbfe2a7fd84fd4586c04cd2bbd9facf2}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}}
\index{F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}F\-R\-E\-E\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-uploadprogress\-\_\-free}]{}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_afbfe2a7fd84fd4586c04cd2bbd9facf2}


References buffer\-\_\-free(), plugin\-\_\-data\-::con\-\_\-map, plugin\-\_\-data\-::config\-\_\-storage, connection\-\_\-map\-\_\-free(), H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, plugin\-\_\-config\-::progress\-\_\-url, and U\-N\-U\-S\-E\-D.

\hypertarget{mod__uploadprogress_8c_a20e93f2c16553187651d9027718fc690}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}}
\index{I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}I\-N\-I\-T\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-uploadprogress\-\_\-init}]{}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_a20e93f2c16553187651d9027718fc690}


References plugin\-\_\-data\-::con\-\_\-map, and connection\-\_\-map\-\_\-init().

\hypertarget{mod__uploadprogress_8c_ac34867a144a607bea1a6dcdcda1c278b}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection@{mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection}}
\index{mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection@{mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static int mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf plugin\-\_\-data} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__uploadprogress_8c_ac34867a144a607bea1a6dcdcda1c278b}


References buffer\-\_\-is\-\_\-equal\-\_\-string(), config\-\_\-check\-\_\-cond(), server\-::config\-\_\-context, plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, array\-::data, P\-A\-T\-C\-H, array\-::used, and data\-\_\-config\-::value.



Referenced by U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__uploadprogress_8c_aa46bc2b4a4386be71ce34f8c4e26e7a1}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init@{mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init}}
\index{mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init@{mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int mod\-\_\-uploadprogress\-\_\-plugin\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf plugin} $\ast$}]{p}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_aa46bc2b4a4386be71ce34f8c4e26e7a1}


References buffer\-\_\-init\-\_\-string(), plugin\-::cleanup, plugin\-::data, plugin\-::handle\-\_\-connection\-\_\-close, plugin\-::handle\-\_\-request\-\_\-done, plugin\-::handle\-\_\-uri\-\_\-clean, plugin\-::init, plugin\-::name, plugin\-::set\-\_\-defaults, and plugin\-::version.

\hypertarget{mod__uploadprogress_8c_a99a0065cc57dd4745ac37dc226f8a30d}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C@{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}}
\index{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C@{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-uploadprogress\-\_\-request\-\_\-done}]{}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_a99a0065cc57dd4745ac37dc226f8a30d}


References buffer\-\_\-string\-\_\-is\-\_\-empty(), plugin\-\_\-data\-::con\-\_\-map, connection\-\_\-map\-\_\-remove\-\_\-connection(), H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, H\-T\-T\-P\-\_\-\-M\-E\-T\-H\-O\-D\-\_\-\-P\-O\-S\-T, and U\-N\-U\-S\-E\-D.

\hypertarget{mod__uploadprogress_8c_a08ff5134574d7d672d6e3f348b6ebd89}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}}
\index{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-uploadprogress\-\_\-set\-\_\-defaults}]{}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_a08ff5134574d7d672d6e3f348b6ebd89}


References buffer\-\_\-init(), config\-\_\-insert\-\_\-values\-\_\-global(), plugin\-\_\-data\-::config\-\_\-storage, config\-\_\-values\-\_\-t\-::destination, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, plugin\-\_\-config\-::progress\-\_\-url, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-S\-E\-R\-V\-E\-R, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-U\-N\-S\-E\-T, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-T\-R\-I\-N\-G, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-U\-N\-S\-E\-T, and data\-\_\-config\-::value.

\hypertarget{mod__uploadprogress_8c_aaa6aeb96442ea2f3e8baf14a9417d574}{\index{mod\-\_\-uploadprogress.\-c@{mod\-\_\-uploadprogress.\-c}!U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}}
\index{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}!mod_uploadprogress.c@{mod\-\_\-uploadprogress.\-c}}
\subsubsection[{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-uploadprogress\-\_\-uri\-\_\-handler}]{}
\end{DoxyParamCaption}
)}}\label{mod__uploadprogress_8c_aaa6aeb96442ea2f3e8baf14a9417d574}
the idea\-:

for the first request we check if it is a post-\/request

if no, move out, don't care about them

if yes, take the connection structure and register it locally in the progress-\/struct together with an session-\/id (md5 ... )

if the connections closes, cleanup the entry in the progress-\/struct

a second request can now get the info about the size of the upload, the received bytes 

References array\-\_\-get\-\_\-element(), buffer\-\_\-append\-\_\-int(), buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-equal(), buffer\-\_\-reset(), buffer\-\_\-string\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), chunkqueue\-::bytes\-\_\-in, chunkqueue\-\_\-append\-\_\-buffer(), chunkqueue\-\_\-append\-\_\-mem(), plugin\-\_\-data\-::con\-\_\-map, plugin\-\_\-data\-::conf, connection\-\_\-map\-\_\-get\-\_\-connection(), connection\-\_\-map\-\_\-insert(), C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, request\-::content\-\_\-length, D\-I\-R\-E\-C\-T, H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-I\-N\-I\-S\-H\-E\-D, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, H\-T\-T\-P\-\_\-\-M\-E\-T\-H\-O\-D\-\_\-\-G\-E\-T, H\-T\-T\-P\-\_\-\-M\-E\-T\-H\-O\-D\-\_\-\-P\-O\-S\-T, light\-\_\-isxdigit(), log\-\_\-error\-\_\-write(), mod\-\_\-uploadprogress\-\_\-patch\-\_\-connection(), plugin\-\_\-config\-::progress\-\_\-url, buffer\-::ptr, connection\-::request, connection\-::request\-\_\-content\-\_\-queue, response\-\_\-header\-\_\-overwrite(), U\-N\-U\-S\-E\-D, and data\-\_\-string\-::value.

