\hypertarget{mod__accesslog_8c}{\section{mod\-\_\-accesslog.\-c File Reference}
\label{mod__accesslog_8c}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}base.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}buffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}plugin.\-h\char`\"{}}\\*
{\ttfamily \#include $<$sys/types.\-h$>$}\\*
{\ttfamily \#include $<$sys/stat.\-h$>$}\\*
{\ttfamily \#include $<$ctype.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$fcntl.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structformat__mapping}{format\-\_\-mapping}
\item 
struct \hyperlink{structformat__field}{format\-\_\-field}
\item 
struct \hyperlink{structformat__fields}{format\-\_\-fields}
\item 
struct \hyperlink{structplugin__config}{plugin\-\_\-config}
\item 
struct \hyperlink{structplugin__data}{plugin\-\_\-data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mod__accesslog_8c_a20876ec7c0c844d0e0c1628528bbb8da}{P\-A\-T\-C\-H}(x)~p-\/$>$conf.\-x = s-\/$>$x;
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7}{e\-\_\-optflags\-\_\-time} \{ \\*
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a368254afa184a999442fdd2c5b3557f8}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D} = 0x00, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ac2e8be95c3b2ede08057c2238f276010}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N} = 0x01, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3ae1b2f24135fd5fa13ae961250a6b5e}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C} = 0x02, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a0ce216b5e272945ec8d5318148ca9c25}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C} = 0x04, 
\\*
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a11e9e226d127bc28eabd36ba9dec9de4}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C} = 0x08, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3dac8e956d2b11efa6a6e4af6e0e11c5}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C} = 0x10, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7afefa76c57a9fc4dee1492795590fd596}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C} = 0x20, 
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a7f0904b0dbbe45d37fc5df66e2b40a8c}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C} = 0x40, 
\\*
\hyperlink{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ad8a32c5791dbe3c40719fc5463dc9e9a}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C} = 0x80
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{mod__accesslog_8c_a1ea1bb72559b867619c206ea1edcda34}{I\-N\-I\-T\-\_\-\-F\-U\-N\-C} (mod\-\_\-accesslog\-\_\-init)
\item 
static void \hyperlink{mod__accesslog_8c_a6da62d71faaf2933f8177632d1365a29}{accesslog\-\_\-write\-\_\-all} (\hyperlink{structserver}{server} $\ast$srv, const \hyperlink{structbuffer}{buffer} $\ast$filename, int fd, const void $\ast$buf, size\-\_\-t count)
\item 
static void \hyperlink{mod__accesslog_8c_ad305a223e6aab7693c03f2767d4f83c1}{accesslog\-\_\-append\-\_\-escaped} (\hyperlink{structbuffer}{buffer} $\ast$dest, \hyperlink{structbuffer}{buffer} $\ast$str)
\item 
static int \hyperlink{mod__accesslog_8c_abe0261e1e136730b747199f8326dab41}{accesslog\-\_\-parse\-\_\-format} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structformat__fields}{format\-\_\-fields} $\ast$fields, \hyperlink{structbuffer}{buffer} $\ast$format)
\item 
\hyperlink{mod__accesslog_8c_a7edc8f4a69c604c39510d92c9a4597ac}{F\-R\-E\-E\-\_\-\-F\-U\-N\-C} (mod\-\_\-accesslog\-\_\-free)
\item 
\hyperlink{mod__accesslog_8c_ab3c2550cf618fa7543efce7d839c33a3}{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C} (log\-\_\-access\-\_\-open)
\item 
\hyperlink{mod__accesslog_8c_ab0e29b517155ca3a7a69f9b622301031}{S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C} (log\-\_\-access\-\_\-cycle)
\item 
static int \hyperlink{mod__accesslog_8c_af358904fec9beb41e4f0a44cc6a2d4f9}{mod\-\_\-accesslog\-\_\-patch\-\_\-connection} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structplugin__data}{plugin\-\_\-data} $\ast$p)
\item 
\hyperlink{mod__accesslog_8c_a32f3da282e9830de6caa02b6a2e857a0}{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C} (log\-\_\-access\-\_\-write)
\item 
int \hyperlink{mod__accesslog_8c_afa393bdb63700f1802ed27376cd1e3bd}{mod\-\_\-accesslog\-\_\-plugin\-\_\-init} (\hyperlink{structplugin}{plugin} $\ast$p)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const \hyperlink{structformat__mapping}{format\-\_\-mapping} \hyperlink{mod__accesslog_8c_af5ee92f96b1f757c5e33a40d843f4489}{fmap} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{mod__accesslog_8c_a20876ec7c0c844d0e0c1628528bbb8da}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!P\-A\-T\-C\-H@{P\-A\-T\-C\-H}}
\index{P\-A\-T\-C\-H@{P\-A\-T\-C\-H}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{P\-A\-T\-C\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\-A\-T\-C\-H(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~p-\/$>$conf.\-x = s-\/$>$x;}}\label{mod__accesslog_8c_a20876ec7c0c844d0e0c1628528bbb8da}


Referenced by mod\-\_\-accesslog\-\_\-patch\-\_\-connection().



\subsection{Enumeration Type Documentation}
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!e\-\_\-optflags\-\_\-time@{e\-\_\-optflags\-\_\-time}}
\index{e\-\_\-optflags\-\_\-time@{e\-\_\-optflags\-\_\-time}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{e\-\_\-optflags\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf e\-\_\-optflags\-\_\-time}}}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a368254afa184a999442fdd2c5b3557f8}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a368254afa184a999442fdd2c5b3557f8}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ac2e8be95c3b2ede08057c2238f276010}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ac2e8be95c3b2ede08057c2238f276010}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3ae1b2f24135fd5fa13ae961250a6b5e}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3ae1b2f24135fd5fa13ae961250a6b5e}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a0ce216b5e272945ec8d5318148ca9c25}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a0ce216b5e272945ec8d5318148ca9c25}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a11e9e226d127bc28eabd36ba9dec9de4}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a11e9e226d127bc28eabd36ba9dec9de4}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3dac8e956d2b11efa6a6e4af6e0e11c5}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a3dac8e956d2b11efa6a6e4af6e0e11c5}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7afefa76c57a9fc4dee1492795590fd596}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7afefa76c57a9fc4dee1492795590fd596}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a7f0904b0dbbe45d37fc5df66e2b40a8c}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7a7f0904b0dbbe45d37fc5df66e2b40a8c}
}]\index{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C}!mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}}\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C@{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C}}\item[{\em 
\hypertarget{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ad8a32c5791dbe3c40719fc5463dc9e9a}{F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C}\label{mod__accesslog_8c_a0ae2261bf66bce0302bac8adc63cf4e7ad8a32c5791dbe3c40719fc5463dc9e9a}
}]\end{description}
\end{Desc}


\subsection{Function Documentation}
\hypertarget{mod__accesslog_8c_ad305a223e6aab7693c03f2767d4f83c1}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!accesslog\-\_\-append\-\_\-escaped@{accesslog\-\_\-append\-\_\-escaped}}
\index{accesslog\-\_\-append\-\_\-escaped@{accesslog\-\_\-append\-\_\-escaped}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{accesslog\-\_\-append\-\_\-escaped}]{\setlength{\rightskip}{0pt plus 5cm}static void accesslog\-\_\-append\-\_\-escaped (
\begin{DoxyParamCaption}
\item[{{\bf buffer} $\ast$}]{dest, }
\item[{{\bf buffer} $\ast$}]{str}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__accesslog_8c_ad305a223e6aab7693c03f2767d4f83c1}


References B\-U\-F\-F\-E\-R\-\_\-\-A\-P\-P\-E\-N\-D\-\_\-\-S\-T\-R\-I\-N\-G\-\_\-\-C\-O\-N\-S\-T, buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-string\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), buffer\-\_\-string\-\_\-prepare\-\_\-append(), and buffer\-::ptr.



Referenced by R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__accesslog_8c_abe0261e1e136730b747199f8326dab41}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!accesslog\-\_\-parse\-\_\-format@{accesslog\-\_\-parse\-\_\-format}}
\index{accesslog\-\_\-parse\-\_\-format@{accesslog\-\_\-parse\-\_\-format}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{accesslog\-\_\-parse\-\_\-format}]{\setlength{\rightskip}{0pt plus 5cm}static int accesslog\-\_\-parse\-\_\-format (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf format\-\_\-fields} $\ast$}]{fields, }
\item[{{\bf buffer} $\ast$}]{format}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__accesslog_8c_abe0261e1e136730b747199f8326dab41}


References buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), format\-\_\-field\-::field, format\-\_\-mapping\-::key, log\-\_\-error\-\_\-write(), format\-\_\-field\-::opt, buffer\-::ptr, format\-\_\-fields\-::ptr, format\-\_\-fields\-::size, format\-\_\-field\-::string, format\-\_\-mapping\-::type, format\-\_\-field\-::type, and format\-\_\-fields\-::used.



Referenced by S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__accesslog_8c_a6da62d71faaf2933f8177632d1365a29}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!accesslog\-\_\-write\-\_\-all@{accesslog\-\_\-write\-\_\-all}}
\index{accesslog\-\_\-write\-\_\-all@{accesslog\-\_\-write\-\_\-all}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{accesslog\-\_\-write\-\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}static void accesslog\-\_\-write\-\_\-all (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{const {\bf buffer} $\ast$}]{filename, }
\item[{int}]{fd, }
\item[{const void $\ast$}]{buf, }
\item[{size\-\_\-t}]{count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__accesslog_8c_a6da62d71faaf2933f8177632d1365a29}


References log\-\_\-error\-\_\-write(), and write\-\_\-all().



Referenced by F\-R\-E\-E\-\_\-\-F\-U\-N\-C(), R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C(), and S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__accesslog_8c_a7edc8f4a69c604c39510d92c9a4597ac}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}}
\index{F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}F\-R\-E\-E\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-accesslog\-\_\-free}]{}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_a7edc8f4a69c604c39510d92c9a4597ac}


References plugin\-\_\-config\-::access\-\_\-logbuffer, plugin\-\_\-config\-::access\-\_\-logfile, accesslog\-\_\-write\-\_\-all(), buffer\-\_\-free(), buffer\-\_\-string\-\_\-is\-\_\-empty(), plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, plugin\-\_\-config\-::format, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, plugin\-\_\-config\-::log\-\_\-access\-\_\-fd, plugin\-\_\-config\-::parsed\-\_\-format, format\-\_\-fields\-::ptr, format\-\_\-field\-::string, plugin\-\_\-data\-::syslog\-\_\-logbuffer, plugin\-\_\-config\-::ts\-\_\-accesslog\-\_\-str, and format\-\_\-fields\-::used.

\hypertarget{mod__accesslog_8c_a1ea1bb72559b867619c206ea1edcda34}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}}
\index{I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}I\-N\-I\-T\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-accesslog\-\_\-init}]{}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_a1ea1bb72559b867619c206ea1edcda34}


References buffer\-\_\-init(), and plugin\-\_\-data\-::syslog\-\_\-logbuffer.

\hypertarget{mod__accesslog_8c_af358904fec9beb41e4f0a44cc6a2d4f9}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!mod\-\_\-accesslog\-\_\-patch\-\_\-connection@{mod\-\_\-accesslog\-\_\-patch\-\_\-connection}}
\index{mod\-\_\-accesslog\-\_\-patch\-\_\-connection@{mod\-\_\-accesslog\-\_\-patch\-\_\-connection}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{mod\-\_\-accesslog\-\_\-patch\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static int mod\-\_\-accesslog\-\_\-patch\-\_\-connection (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf plugin\-\_\-data} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__accesslog_8c_af358904fec9beb41e4f0a44cc6a2d4f9}


References buffer\-\_\-is\-\_\-equal\-\_\-string(), config\-\_\-check\-\_\-cond(), server\-::config\-\_\-context, plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, array\-::data, P\-A\-T\-C\-H, array\-::used, and data\-\_\-config\-::value.



Referenced by R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__accesslog_8c_afa393bdb63700f1802ed27376cd1e3bd}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!mod\-\_\-accesslog\-\_\-plugin\-\_\-init@{mod\-\_\-accesslog\-\_\-plugin\-\_\-init}}
\index{mod\-\_\-accesslog\-\_\-plugin\-\_\-init@{mod\-\_\-accesslog\-\_\-plugin\-\_\-init}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{mod\-\_\-accesslog\-\_\-plugin\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int mod\-\_\-accesslog\-\_\-plugin\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf plugin} $\ast$}]{p}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_afa393bdb63700f1802ed27376cd1e3bd}


References buffer\-\_\-init\-\_\-string(), plugin\-::cleanup, plugin\-::data, plugin\-::handle\-\_\-request\-\_\-done, plugin\-::handle\-\_\-sighup, plugin\-::init, plugin\-::name, plugin\-::set\-\_\-defaults, and plugin\-::version.

\hypertarget{mod__accesslog_8c_a32f3da282e9830de6caa02b6a2e857a0}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C@{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}}
\index{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C@{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}R\-E\-Q\-U\-E\-S\-T\-D\-O\-N\-E\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{log\-\_\-access\-\_\-write}]{}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_a32f3da282e9830de6caa02b6a2e857a0}


References plugin\-\_\-config\-::access\-\_\-logbuffer, plugin\-\_\-config\-::access\-\_\-logfile, accesslog\-\_\-append\-\_\-escaped(), accesslog\-\_\-write\-\_\-all(), array\-\_\-get\-\_\-element(), buffer\-\_\-append\-\_\-int(), buffer\-\_\-append\-\_\-strftime(), buffer\-\_\-append\-\_\-string(), buffer\-\_\-append\-\_\-string\-\_\-buffer(), buffer\-\_\-append\-\_\-string\-\_\-len(), buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), B\-U\-F\-F\-E\-R\-\_\-\-M\-A\-X\-\_\-\-R\-E\-U\-S\-E\-\_\-\-S\-I\-Z\-E, buffer\-\_\-reset(), buffer\-\_\-string\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), buffer\-\_\-string\-\_\-prepare\-\_\-copy(), buffer\-\_\-string\-\_\-set\-\_\-length(), C\-O\-N\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-E\-S\-P\-O\-N\-S\-E\-\_\-\-E\-N\-D, plugin\-\_\-data\-::conf, C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, format\-\_\-field\-::field, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C, get\-\_\-http\-\_\-method\-\_\-name(), H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, H\-T\-T\-P\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-1\-\_\-1, plugin\-\_\-config\-::last\-\_\-generated\-\_\-accesslog\-\_\-ts\-\_\-ptr, plugin\-\_\-config\-::log\-\_\-access\-\_\-fd, log\-\_\-clock\-\_\-gettime\-\_\-realtime(), mod\-\_\-accesslog\-\_\-patch\-\_\-connection(), format\-\_\-field\-::opt, plugin\-\_\-config\-::parsed\-\_\-format, buffer\-::ptr, format\-\_\-fields\-::ptr, format\-\_\-field\-::string, plugin\-\_\-config\-::syslog\-\_\-level, plugin\-\_\-data\-::syslog\-\_\-logbuffer, plugin\-\_\-config\-::ts\-\_\-accesslog\-\_\-str, format\-\_\-field\-::type, plugin\-\_\-config\-::use\-\_\-syslog, format\-\_\-fields\-::used, and data\-\_\-string\-::value.

\hypertarget{mod__accesslog_8c_ab3c2550cf618fa7543efce7d839c33a3}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}}
\index{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{log\-\_\-access\-\_\-open}]{}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_ab3c2550cf618fa7543efce7d839c33a3}


References plugin\-\_\-config\-::access\-\_\-logfile, accesslog\-\_\-parse\-\_\-format(), buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-is\-\_\-equal\-\_\-string(), buffer\-\_\-string\-\_\-is\-\_\-empty(), config\-\_\-insert\-\_\-values\-\_\-global(), plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, config\-\_\-values\-\_\-t\-::destination, format\-\_\-field\-::field, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-B\-E\-G\-I\-N, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-E\-N\-D, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-M\-S\-E\-C\-\_\-\-F\-R\-A\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-N\-S\-E\-C\-\_\-\-F\-R\-A\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C, F\-O\-R\-M\-A\-T\-\_\-\-F\-L\-A\-G\-\_\-\-T\-I\-M\-E\-\_\-\-U\-S\-E\-C\-\_\-\-F\-R\-A\-C, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, log\-\_\-error\-\_\-write(), open\-\_\-logfile\-\_\-or\-\_\-pipe(), format\-\_\-field\-::opt, buffer\-::ptr, format\-\_\-field\-::string, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-B\-O\-O\-L\-E\-A\-N, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-S\-E\-R\-V\-E\-R, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-U\-N\-S\-E\-T, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-H\-O\-R\-T, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-T\-R\-I\-N\-G, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-U\-N\-S\-E\-T, format\-\_\-field\-::type, and data\-\_\-config\-::value.

\hypertarget{mod__accesslog_8c_ab0e29b517155ca3a7a69f9b622301031}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C@{S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C}}
\index{S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C@{S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}S\-I\-G\-H\-U\-P\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{log\-\_\-access\-\_\-cycle}]{}
\end{DoxyParamCaption}
)}}\label{mod__accesslog_8c_ab0e29b517155ca3a7a69f9b622301031}


References plugin\-\_\-config\-::access\-\_\-logbuffer, plugin\-\_\-config\-::access\-\_\-logfile, accesslog\-\_\-write\-\_\-all(), buffer\-\_\-reset(), buffer\-\_\-string\-\_\-is\-\_\-empty(), plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, fdevent\-\_\-open\-\_\-cloexec(), H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, plugin\-\_\-config\-::log\-\_\-access\-\_\-fd, log\-\_\-error\-\_\-write(), O\-\_\-\-L\-A\-R\-G\-E\-F\-I\-L\-E, buffer\-::ptr, and plugin\-\_\-config\-::use\-\_\-syslog.



\subsection{Variable Documentation}
\hypertarget{mod__accesslog_8c_af5ee92f96b1f757c5e33a40d843f4489}{\index{mod\-\_\-accesslog.\-c@{mod\-\_\-accesslog.\-c}!fmap@{fmap}}
\index{fmap@{fmap}!mod_accesslog.c@{mod\-\_\-accesslog.\-c}}
\subsubsection[{fmap}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf format\-\_\-mapping} fmap\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__accesslog_8c_af5ee92f96b1f757c5e33a40d843f4489}
\char`\"{}\%h \%l \%u \%t \textbackslash{}\char`\"{}r" \%$>$s b "\%\{Referer\}i" "\%\{User-\/\-Agent\}i"" 