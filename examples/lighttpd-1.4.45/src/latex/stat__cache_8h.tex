\hypertarget{stat__cache_8h}{\section{stat\-\_\-cache.\-h File Reference}
\label{stat__cache_8h}\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}base.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structstat__cache}{stat\-\_\-cache} $\ast$ \hyperlink{stat__cache_8h_a89c129eec42d3171b23930e979683255}{stat\-\_\-cache\-\_\-init} (void)
\item 
void \hyperlink{stat__cache_8h_a5b1e0b7670661de46e05f6d7109e036a}{stat\-\_\-cache\-\_\-free} (\hyperlink{structstat__cache}{stat\-\_\-cache} $\ast$fc)
\item 
\hyperlink{settings_8h_a2a8ffc3e29980db202f39ab85ab7e98e}{handler\-\_\-t} \hyperlink{stat__cache_8h_a2fd27435577833f2169b362a853b5148}{stat\-\_\-cache\-\_\-get\-\_\-entry} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$name, \hyperlink{structstat__cache__entry}{stat\-\_\-cache\-\_\-entry} $\ast$$\ast$fce)
\item 
\hyperlink{settings_8h_a2a8ffc3e29980db202f39ab85ab7e98e}{handler\-\_\-t} \hyperlink{stat__cache_8h_a0893dfe698b63f9805b91b88aef0d69e}{stat\-\_\-cache\-\_\-handle\-\_\-fdevent} (\hyperlink{structserver}{server} $\ast$srv, void $\ast$\-\_\-fce, int revent)
\item 
int \hyperlink{stat__cache_8h_aaa60387e5499651ac050e5caa4b3421d}{stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structbuffer}{buffer} $\ast$name, struct stat $\ast$st)
\item 
int \hyperlink{stat__cache_8h_a12eada84fe074277733303bcacd83d88}{stat\-\_\-cache\-\_\-trigger\-\_\-cleanup} (\hyperlink{structserver}{server} $\ast$srv)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{stat__cache_8h_a5b1e0b7670661de46e05f6d7109e036a}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-free@{stat\-\_\-cache\-\_\-free}}
\index{stat\-\_\-cache\-\_\-free@{stat\-\_\-cache\-\_\-free}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}void stat\-\_\-cache\-\_\-free (
\begin{DoxyParamCaption}
\item[{{\bf stat\-\_\-cache} $\ast$}]{fc}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_a5b1e0b7670661de46e05f6d7109e036a}


References buffer\-\_\-free(), tree\-\_\-node\-::data, stat\-\_\-cache\-::dir\-\_\-name, stat\-\_\-cache\-::files, force\-\_\-assert, stat\-\_\-cache\-::hash\-\_\-key, tree\-\_\-node\-::key, tree\-\_\-node\-::size, splaytree\-\_\-delete(), splaytree\-\_\-size(), and stat\-\_\-cache\-\_\-entry\-\_\-free().



Referenced by server\-\_\-free().

\hypertarget{stat__cache_8h_a2fd27435577833f2169b362a853b5148}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-get\-\_\-entry@{stat\-\_\-cache\-\_\-get\-\_\-entry}}
\index{stat\-\_\-cache\-\_\-get\-\_\-entry@{stat\-\_\-cache\-\_\-get\-\_\-entry}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-get\-\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handler\-\_\-t} stat\-\_\-cache\-\_\-get\-\_\-entry (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{name, }
\item[{{\bf stat\-\_\-cache\-\_\-entry} $\ast$$\ast$}]{fce}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_a2fd27435577833f2169b362a853b5148}


References buffer\-\_\-append\-\_\-int(), buffer\-\_\-copy\-\_\-buffer(), buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-is\-\_\-empty(), buffer\-\_\-is\-\_\-equal(), buffer\-\_\-reset(), buffer\-\_\-string\-\_\-is\-\_\-empty(), buffer\-\_\-string\-\_\-length(), buffer\-\_\-string\-\_\-set\-\_\-length(), connection\-::conf, stat\-\_\-cache\-\_\-entry\-::content\-\_\-type, server\-::cur\-\_\-ts, tree\-\_\-node\-::data, array\-::data, stat\-\_\-cache\-::dir\-\_\-name, stat\-\_\-cache\-\_\-entry\-::etag, etag\-\_\-create(), connection\-::etag\-\_\-flags, stat\-\_\-cache\-::files, specific\-\_\-config\-::follow\-\_\-symlink, force\-\_\-assert, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, stat\-\_\-cache\-::hash\-\_\-key, hashme(), tree\-\_\-node\-::key, log\-\_\-error\-\_\-write(), specific\-\_\-config\-::mimetypes, stat\-\_\-cache\-\_\-entry\-::name, buffer\-::ptr, splaytree\-\_\-insert(), splaytree\-\_\-size(), splaytree\-\_\-splay(), server\-::srvconf, stat\-\_\-cache\-\_\-entry\-::st, server\-::stat\-\_\-cache, server\-\_\-config\-::stat\-\_\-cache\-\_\-engine, stat\-\_\-cache\-\_\-entry\-\_\-free(), stat\-\_\-cache\-\_\-entry\-\_\-init(), stat\-\_\-cache\-\_\-entry\-::stat\-\_\-ts, specific\-\_\-config\-::use\-\_\-xattr, array\-::used, data\-\_\-string\-::value, and server\-\_\-config\-::xattr\-\_\-name.



Referenced by build\-\_\-doc\-\_\-root(), C\-O\-N\-N\-E\-C\-T\-I\-O\-N\-\_\-\-F\-U\-N\-C(), connection\-\_\-handle\-\_\-write\-\_\-prepare(), deflate\-\_\-file\-\_\-to\-\_\-file(), fcgi\-\_\-response\-\_\-parse(), http\-\_\-chunk\-\_\-append\-\_\-file\-\_\-open\-\_\-fstat(), http\-\_\-response\-\_\-prepare(), http\-\_\-response\-\_\-send\-\_\-file(), magnet\-\_\-stat(), mod\-\_\-evhost\-\_\-uri\-\_\-handler(), P\-H\-Y\-S\-I\-C\-A\-L\-P\-A\-T\-H\-\_\-\-F\-U\-N\-C(), script\-\_\-cache\-\_\-get\-\_\-script(), S\-U\-B\-R\-E\-Q\-U\-E\-S\-T\-\_\-\-F\-U\-N\-C(), U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C(), and webdav\-\_\-get\-\_\-live\-\_\-property().

\hypertarget{stat__cache_8h_a0893dfe698b63f9805b91b88aef0d69e}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-handle\-\_\-fdevent@{stat\-\_\-cache\-\_\-handle\-\_\-fdevent}}
\index{stat\-\_\-cache\-\_\-handle\-\_\-fdevent@{stat\-\_\-cache\-\_\-handle\-\_\-fdevent}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-handle\-\_\-fdevent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handler\-\_\-t} stat\-\_\-cache\-\_\-handle\-\_\-fdevent (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{void $\ast$}]{\-\_\-fce, }
\item[{int}]{revent}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_a0893dfe698b63f9805b91b88aef0d69e}


Referenced by main().

\hypertarget{stat__cache_8h_a89c129eec42d3171b23930e979683255}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-init@{stat\-\_\-cache\-\_\-init}}
\index{stat\-\_\-cache\-\_\-init@{stat\-\_\-cache\-\_\-init}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf stat\-\_\-cache}$\ast$ stat\-\_\-cache\-\_\-init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_a89c129eec42d3171b23930e979683255}


References buffer\-\_\-init(), stat\-\_\-cache\-::dir\-\_\-name, force\-\_\-assert, and stat\-\_\-cache\-::hash\-\_\-key.



Referenced by main().

\hypertarget{stat__cache_8h_aaa60387e5499651ac050e5caa4b3421d}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat@{stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat}}
\index{stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat@{stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat}]{\setlength{\rightskip}{0pt plus 5cm}int stat\-\_\-cache\-\_\-open\-\_\-rdonly\-\_\-fstat (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf buffer} $\ast$}]{name, }
\item[{struct stat $\ast$}]{st}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_aaa60387e5499651ac050e5caa4b3421d}


References connection\-::conf, specific\-\_\-config\-::follow\-\_\-symlink, O\-\_\-\-B\-I\-N\-A\-R\-Y, O\-\_\-\-L\-A\-R\-G\-E\-F\-I\-L\-E, O\-\_\-\-N\-O\-C\-T\-T\-Y, O\-\_\-\-N\-O\-F\-O\-L\-L\-O\-W, O\-\_\-\-N\-O\-N\-B\-L\-O\-C\-K, buffer\-::ptr, and U\-N\-U\-S\-E\-D.



Referenced by cache\-\_\-parse\-\_\-lua(), and http\-\_\-chunk\-\_\-append\-\_\-file\-\_\-open\-\_\-fstat().

\hypertarget{stat__cache_8h_a12eada84fe074277733303bcacd83d88}{\index{stat\-\_\-cache.\-h@{stat\-\_\-cache.\-h}!stat\-\_\-cache\-\_\-trigger\-\_\-cleanup@{stat\-\_\-cache\-\_\-trigger\-\_\-cleanup}}
\index{stat\-\_\-cache\-\_\-trigger\-\_\-cleanup@{stat\-\_\-cache\-\_\-trigger\-\_\-cleanup}!stat_cache.h@{stat\-\_\-cache.\-h}}
\subsubsection[{stat\-\_\-cache\-\_\-trigger\-\_\-cleanup}]{\setlength{\rightskip}{0pt plus 5cm}int stat\-\_\-cache\-\_\-trigger\-\_\-cleanup (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv}
\end{DoxyParamCaption}
)}}\label{stat__cache_8h_a12eada84fe074277733303bcacd83d88}


References tree\-\_\-node\-::data, stat\-\_\-cache\-::files, force\-\_\-assert, tree\-\_\-node\-::key, tree\-\_\-node\-::size, splaytree\-\_\-delete(), splaytree\-\_\-size(), splaytree\-\_\-splay(), server\-::stat\-\_\-cache, stat\-\_\-cache\-\_\-entry\-\_\-free(), and stat\-\_\-cache\-\_\-tag\-\_\-old\-\_\-entries().



Referenced by main().

