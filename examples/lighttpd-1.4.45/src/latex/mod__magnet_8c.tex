\hypertarget{mod__magnet_8c}{\section{mod\-\_\-magnet.\-c File Reference}
\label{mod__magnet_8c}\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}}
}
{\ttfamily \#include \char`\"{}first.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}base.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}log.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}buffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\-\_\-chunk.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}plugin.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mod\-\_\-magnet\-\_\-cache.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}response.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stat\-\_\-cache.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}status\-\_\-counter.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}etag.\-h\char`\"{}}\\*
{\ttfamily \#include $<$ctype.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$assert.\-h$>$}\\*
{\ttfamily \#include $<$setjmp.\-h$>$}\\*
{\ttfamily \#include $<$lua.\-h$>$}\\*
{\ttfamily \#include $<$lauxlib.\-h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structplugin__config}{plugin\-\_\-config}
\item 
struct \hyperlink{structplugin__data}{plugin\-\_\-data}
\item 
struct \hyperlink{structconst__buffer}{const\-\_\-buffer}
\item 
struct \hyperlink{structmagnet__env__t}{magnet\-\_\-env\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mod__magnet_8c_a8154e216f21a8155c641ead27011c05f}{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R}~\char`\"{}lighty.\-srv\char`\"{}
\item 
\#define \hyperlink{mod__magnet_8c_a78b22d64dfe73d67fb5fa2625ab15126}{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N}~\char`\"{}lighty.\-con\char`\"{}
\item 
\#define \hyperlink{mod__magnet_8c_aabb254e5a47e2f3c77d154fbdbf9c3b1}{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L}~\char`\"{}magnet.\-attract-\/raw-\/url-\/to\char`\"{}
\item 
\#define \hyperlink{mod__magnet_8c_a242811328fe63bddfd4c02a41e0f388b}{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H}~\char`\"{}magnet.\-attract-\/\hyperlink{structphysical}{physical}-\/path-\/to\char`\"{}
\item 
\#define \hyperlink{mod__magnet_8c_aaf6c6ff78036ce3b2f7169f030e321bb}{M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T}~99
\item 
\#define \hyperlink{mod__magnet_8c_a20876ec7c0c844d0e0c1628528bbb8da}{P\-A\-T\-C\-H}(x)~p-\/$>$conf.\-x = s-\/$>$x;
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{mod__magnet_8c_adcf76a1232cf47c07c19743da08dc98a}{I\-N\-I\-T\-\_\-\-F\-U\-N\-C} (mod\-\_\-magnet\-\_\-init)
\item 
\hyperlink{mod__magnet_8c_a538f6b15b46425515b1e9fd3c2d8b582}{F\-R\-E\-E\-\_\-\-F\-U\-N\-C} (mod\-\_\-magnet\-\_\-free)
\item 
\hyperlink{mod__magnet_8c_a3f5b5722871b42000e195aea6c632a6e}{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C} (mod\-\_\-magnet\-\_\-set\-\_\-defaults)
\item 
static int \hyperlink{mod__magnet_8c_ae7bdc9f3db948b75eb832609c5764918}{mod\-\_\-magnet\-\_\-patch\-\_\-connection} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structplugin__data}{plugin\-\_\-data} $\ast$p)
\item 
static void \hyperlink{mod__magnet_8c_a800a231302f499f5499a83e98ed0bf60}{lua\-\_\-pushglobaltable} (lua\-\_\-\-State $\ast$L)
\item 
static void \hyperlink{mod__magnet_8c_a527360f53ae7f574690e59ec9ee17625}{magnet\-\_\-setfenv\-\_\-mainfn} (lua\-\_\-\-State $\ast$L, int func\-Index)
\item 
static int \hyperlink{mod__magnet_8c_a1373dca24e8333e54d1759bac7a4f72e}{magnet\-\_\-pairs} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a45abb825e13023b01aec01ddcfdd0f56}{magnet\-\_\-array\-\_\-next} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a316ecb644d6cbfd4de0c29d2211b8ae3}{magnet\-\_\-array\-\_\-pairs} (lua\-\_\-\-State $\ast$L, \hyperlink{structarray}{array} $\ast$a)
\item 
static \hyperlink{structserver}{server} $\ast$ \hyperlink{mod__magnet_8c_aab0daa19d0083f8fef0215e8e83bf3c8}{magnet\-\_\-get\-\_\-server} (lua\-\_\-\-State $\ast$L)
\item 
static \hyperlink{structconnection}{connection} $\ast$ \hyperlink{mod__magnet_8c_a112c49ae34e455265a0e99a4ff3b926d}{magnet\-\_\-get\-\_\-connection} (lua\-\_\-\-State $\ast$L)
\item 
static \hyperlink{structconst__buffer}{const\-\_\-buffer} \hyperlink{mod__magnet_8c_a6f09b890e72da29c895161673e02bb51}{magnet\-\_\-checkconstbuffer} (lua\-\_\-\-State $\ast$L, int index)
\item 
static \hyperlink{structbuffer}{buffer} $\ast$ \hyperlink{mod__magnet_8c_a725a53362a3a7434ba440d01129a7946}{magnet\-\_\-checkbuffer} (lua\-\_\-\-State $\ast$L, int index)
\item 
static int \hyperlink{mod__magnet_8c_a0c7621904d06efce59be1bdbeac3d012}{magnet\-\_\-print} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a16d9be64ef5526e50847c8939ae63726}{magnet\-\_\-stat} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a267a2abd3b9cd2afec488118c311471c}{magnet\-\_\-atpanic} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a0556e1c17744987e244c4b3fca3c86a4}{magnet\-\_\-reqhdr\-\_\-get} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a232ba5a53d694e737bfd3a18926206e1}{magnet\-\_\-reqhdr\-\_\-pairs} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_acd3ee9f73883c5e191bffcdcf3f70328}{magnet\-\_\-status\-\_\-get} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a9cc2687cb483b15c6e83056453798166}{magnet\-\_\-status\-\_\-set} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a5833d18078b86430eacd2afa6797e495}{magnet\-\_\-status\-\_\-pairs} (lua\-\_\-\-State $\ast$L)
\item 
static \hyperlink{structbuffer}{buffer} $\ast$ \hyperlink{mod__magnet_8c_add0bfdc19f995c440b6ff6c01019c68e}{magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, int id)
\item 
static \hyperlink{structbuffer}{buffer} $\ast$ \hyperlink{mod__magnet_8c_a78e3bb48ad1113a1e938eaa875283137}{magnet\-\_\-env\-\_\-get\-\_\-buffer} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, const char $\ast$key)
\item 
static int \hyperlink{mod__magnet_8c_ae02c39bc4cec31a8554762ef73fa76a4}{magnet\-\_\-env\-\_\-get} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_add72c5b86576fe6831eee4f44fe96aac}{magnet\-\_\-env\-\_\-set} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a0e35aa6b5dd9889d0f907deeb92af756}{magnet\-\_\-env\-\_\-next} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_aba4af43c198cade90a4dc78a481d9776}{magnet\-\_\-env\-\_\-pairs} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a65a45d6dc4bef8bf52676b90783f17bb}{magnet\-\_\-cgi\-\_\-get} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_adfe788405d36539d09437d27078acfe2}{magnet\-\_\-cgi\-\_\-set} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_adb416df4051b0c4487f992c0aaa781ae}{magnet\-\_\-cgi\-\_\-pairs} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a9538671768186fd04a1dadf7062f8452}{magnet\-\_\-copy\-\_\-response\-\_\-header} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, lua\-\_\-\-State $\ast$L, int lighty\-\_\-table\-\_\-ndx)
\item 
static int \hyperlink{mod__magnet_8c_a1a22257417266e56bdffee42009ff3f3}{magnet\-\_\-attach\-\_\-content} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, lua\-\_\-\-State $\ast$L, int lighty\-\_\-table\-\_\-ndx)
\item 
static int \hyperlink{mod__magnet_8c_a8db81089117260e8931fbfc9631bd229}{traceback} (lua\-\_\-\-State $\ast$L)
\item 
static int \hyperlink{mod__magnet_8c_a3b13dbb7fac2dd24322f0338cf15973a}{push\-\_\-traceback} (lua\-\_\-\-State $\ast$L, int narg)
\item 
static \hyperlink{settings_8h_a2a8ffc3e29980db202f39ab85ab7e98e}{handler\-\_\-t} \hyperlink{mod__magnet_8c_a15fb23d4454b67e4ffb7675cf46de74b}{magnet\-\_\-attract} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structplugin__data}{plugin\-\_\-data} $\ast$p, \hyperlink{structbuffer}{buffer} $\ast$name)
\item 
static \hyperlink{settings_8h_a2a8ffc3e29980db202f39ab85ab7e98e}{handler\-\_\-t} \hyperlink{mod__magnet_8c_a31baaa8c1c5f10c5ae86bd44671320f2}{magnet\-\_\-attract\-\_\-array} (\hyperlink{structserver}{server} $\ast$srv, \hyperlink{structconnection}{connection} $\ast$con, \hyperlink{structplugin__data}{plugin\-\_\-data} $\ast$p, \hyperlink{structarray}{array} $\ast$files)
\item 
\hyperlink{mod__magnet_8c_a9ac85469827245f67e6805561e381c0b}{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C} (mod\-\_\-magnet\-\_\-uri\-\_\-handler)
\item 
\hyperlink{mod__magnet_8c_aa8c3e069cbf4411f36debb19bbeb05d1}{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C} (mod\-\_\-magnet\-\_\-physical)
\item 
int \hyperlink{mod__magnet_8c_a5dfc152e0651eafbf4ca08e2e032886f}{mod\-\_\-magnet\-\_\-plugin\-\_\-init} (\hyperlink{structplugin}{plugin} $\ast$p)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static jmp\-\_\-buf \hyperlink{mod__magnet_8c_a977925ef2050ef6d55c8c6343261b205}{exceptionjmp}
\item 
static const \hyperlink{structmagnet__env__t}{magnet\-\_\-env\-\_\-t} \hyperlink{mod__magnet_8c_a7556b6926edc64f07861126c9368d98f}{magnet\-\_\-env} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{mod__magnet_8c_a78b22d64dfe73d67fb5fa2625ab15126}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N@{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N}}
\index{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N@{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N~\char`\"{}lighty.\-con\char`\"{}}}\label{mod__magnet_8c_a78b22d64dfe73d67fb5fa2625ab15126}


Referenced by magnet\-\_\-attract(), and magnet\-\_\-get\-\_\-connection().

\hypertarget{mod__magnet_8c_a8154e216f21a8155c641ead27011c05f}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R@{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R}}
\index{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R@{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R~\char`\"{}lighty.\-srv\char`\"{}}}\label{mod__magnet_8c_a8154e216f21a8155c641ead27011c05f}


Referenced by magnet\-\_\-attract(), and magnet\-\_\-get\-\_\-server().

\hypertarget{mod__magnet_8c_a242811328fe63bddfd4c02a41e0f388b}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H@{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H}}
\index{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H@{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H~\char`\"{}magnet.\-attract-\/{\bf physical}-\/path-\/to\char`\"{}}}\label{mod__magnet_8c_a242811328fe63bddfd4c02a41e0f388b}


Referenced by mod\-\_\-magnet\-\_\-patch\-\_\-connection(), and S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__magnet_8c_aabb254e5a47e2f3c77d154fbdbf9c3b1}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L@{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L}}
\index{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L@{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L~\char`\"{}magnet.\-attract-\/raw-\/url-\/to\char`\"{}}}\label{mod__magnet_8c_aabb254e5a47e2f3c77d154fbdbf9c3b1}


Referenced by mod\-\_\-magnet\-\_\-patch\-\_\-connection(), and S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__magnet_8c_aaf6c6ff78036ce3b2f7169f030e321bb}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T@{M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T}}
\index{M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T@{M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T~99}}\label{mod__magnet_8c_aaf6c6ff78036ce3b2f7169f030e321bb}


Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a20876ec7c0c844d0e0c1628528bbb8da}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!P\-A\-T\-C\-H@{P\-A\-T\-C\-H}}
\index{P\-A\-T\-C\-H@{P\-A\-T\-C\-H}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{P\-A\-T\-C\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\-A\-T\-C\-H(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~p-\/$>$conf.\-x = s-\/$>$x;}}\label{mod__magnet_8c_a20876ec7c0c844d0e0c1628528bbb8da}


Referenced by mod\-\_\-magnet\-\_\-patch\-\_\-connection().



\subsection{Function Documentation}
\hypertarget{mod__magnet_8c_a538f6b15b46425515b1e9fd3c2d8b582}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}}
\index{F\-R\-E\-E\-\_\-\-F\-U\-N\-C@{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{F\-R\-E\-E\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}F\-R\-E\-E\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-magnet\-\_\-free}]{}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_a538f6b15b46425515b1e9fd3c2d8b582}


References array\-\_\-free(), buffer\-\_\-free(), plugin\-\_\-data\-::cache, plugin\-\_\-data\-::config\-\_\-storage, plugin\-\_\-data\-::encode\-\_\-buf, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, plugin\-\_\-config\-::physical\-\_\-path, script\-\_\-cache\-\_\-free(), U\-N\-U\-S\-E\-D, and plugin\-\_\-config\-::url\-\_\-raw.

\hypertarget{mod__magnet_8c_adcf76a1232cf47c07c19743da08dc98a}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}}
\index{I\-N\-I\-T\-\_\-\-F\-U\-N\-C@{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{I\-N\-I\-T\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}I\-N\-I\-T\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-magnet\-\_\-init}]{}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_adcf76a1232cf47c07c19743da08dc98a}


References buffer\-\_\-init(), plugin\-\_\-data\-::cache, plugin\-\_\-data\-::encode\-\_\-buf, and script\-\_\-cache\-\_\-init().

\hypertarget{mod__magnet_8c_a800a231302f499f5499a83e98ed0bf60}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!lua\-\_\-pushglobaltable@{lua\-\_\-pushglobaltable}}
\index{lua\-\_\-pushglobaltable@{lua\-\_\-pushglobaltable}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{lua\-\_\-pushglobaltable}]{\setlength{\rightskip}{0pt plus 5cm}static void lua\-\_\-pushglobaltable (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a800a231302f499f5499a83e98ed0bf60}


Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a45abb825e13023b01aec01ddcfdd0f56}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-array\-\_\-next@{magnet\-\_\-array\-\_\-next}}
\index{magnet\-\_\-array\-\_\-next@{magnet\-\_\-array\-\_\-next}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-array\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-array\-\_\-next (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a45abb825e13023b01aec01ddcfdd0f56}


References buffer\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, array\-::data, T\-Y\-P\-E\-\_\-\-I\-N\-T\-E\-G\-E\-R, T\-Y\-P\-E\-\_\-\-S\-T\-R\-I\-N\-G, array\-::used, data\-\_\-string\-::value, and data\-\_\-integer\-::value.



Referenced by magnet\-\_\-array\-\_\-pairs().

\hypertarget{mod__magnet_8c_a316ecb644d6cbfd4de0c29d2211b8ae3}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-array\-\_\-pairs@{magnet\-\_\-array\-\_\-pairs}}
\index{magnet\-\_\-array\-\_\-pairs@{magnet\-\_\-array\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-array\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-array\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{{\bf array} $\ast$}]{a}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a316ecb644d6cbfd4de0c29d2211b8ae3}


References magnet\-\_\-array\-\_\-next().



Referenced by magnet\-\_\-cgi\-\_\-pairs(), magnet\-\_\-reqhdr\-\_\-pairs(), and magnet\-\_\-status\-\_\-pairs().

\hypertarget{mod__magnet_8c_a267a2abd3b9cd2afec488118c311471c}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-atpanic@{magnet\-\_\-atpanic}}
\index{magnet\-\_\-atpanic@{magnet\-\_\-atpanic}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-atpanic}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-atpanic (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a267a2abd3b9cd2afec488118c311471c}


References buffer\-\_\-free(), exceptionjmp, log\-\_\-error\-\_\-write(), magnet\-\_\-checkbuffer(), and magnet\-\_\-get\-\_\-server().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a1a22257417266e56bdffee42009ff3f3}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-attach\-\_\-content@{magnet\-\_\-attach\-\_\-content}}
\index{magnet\-\_\-attach\-\_\-content@{magnet\-\_\-attach\-\_\-content}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-attach\-\_\-content}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-attach\-\_\-content (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{lighty\-\_\-table\-\_\-ndx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a1a22257417266e56bdffee42009ff3f3}
walk through the content array

content = \{ \char`\"{}$<$pre$>$\char`\"{}, \{ file = \char`\"{}/content\char`\"{} \} , \char`\"{}$<$/pre$>$\char`\"{} \}

header\mbox{[}\char`\"{}\-Content-\/\-Type\char`\"{}\mbox{]} = \char`\"{}text/html\char`\"{}

return 200 

References buffer\-\_\-free(), chunkqueue\-\_\-append\-\_\-mem(), force\-\_\-assert, http\-\_\-chunk\-\_\-append\-\_\-file\-\_\-range(), const\-\_\-buffer\-::len, magnet\-\_\-checkbuffer(), magnet\-\_\-checkconstbuffer(), const\-\_\-buffer\-::ptr, and connection\-::write\-\_\-queue.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a15fb23d4454b67e4ffb7675cf46de74b}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-attract@{magnet\-\_\-attract}}
\index{magnet\-\_\-attract@{magnet\-\_\-attract}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-attract}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf handler\-\_\-t} magnet\-\_\-attract (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf plugin\-\_\-data} $\ast$}]{p, }
\item[{{\bf buffer} $\ast$}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a15fb23d4454b67e4ffb7675cf46de74b}
we want to create empty environment for our script

setmetatable(\{\}, \{\-\_\-\-\_\-index = \-\_\-\-G\})

if a function symbol is not defined in our env, \-\_\-\-\_\-index will lookup in the global env.

all variables created in the script-\/env will be thrown away at the end of the script run.

lighty.\-request\mbox{[}\mbox{]} (ro) has the H\-T\-T\-P-\/request headers lighty.\-env\mbox{[}\mbox{]} (rw) has various url/physical file paths and request meta data; might contain nil values lighty.\-req\-\_\-env\mbox{[}\mbox{]} (ro) has the cgi environment lighty.\-status\mbox{[}\mbox{]} (ro) has the status counters lighty.\-content\mbox{[}\mbox{]} (rw) is a table of string/file lighty.\-header\mbox{[}\mbox{]} (rw) is a array to set response headers

References plugin\-\_\-data\-::cache, chunkqueue\-\_\-is\-\_\-empty(), D\-I\-R\-E\-C\-T, exceptionjmp, connection\-::file\-\_\-finished, force\-\_\-assert, H\-A\-N\-D\-L\-E\-R\-\_\-\-C\-O\-M\-E\-B\-A\-C\-K, H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-I\-N\-I\-S\-H\-E\-D, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, connection\-::http\-\_\-status, log\-\_\-error\-\_\-write(), lua\-\_\-pushglobaltable(), L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N, L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R, magnet\-\_\-atpanic(), magnet\-\_\-attach\-\_\-content(), magnet\-\_\-cgi\-\_\-get(), magnet\-\_\-cgi\-\_\-pairs(), magnet\-\_\-cgi\-\_\-set(), magnet\-\_\-copy\-\_\-response\-\_\-header(), magnet\-\_\-env\-\_\-get(), magnet\-\_\-env\-\_\-pairs(), magnet\-\_\-env\-\_\-set(), magnet\-\_\-pairs(), magnet\-\_\-print(), magnet\-\_\-reqhdr\-\_\-get(), magnet\-\_\-reqhdr\-\_\-pairs(), M\-A\-G\-N\-E\-T\-\_\-\-R\-E\-S\-T\-A\-R\-T\-\_\-\-R\-E\-Q\-U\-E\-S\-T, magnet\-\_\-setfenv\-\_\-mainfn(), magnet\-\_\-stat(), magnet\-\_\-status\-\_\-get(), magnet\-\_\-status\-\_\-pairs(), magnet\-\_\-status\-\_\-set(), connection\-::mode, push\-\_\-traceback(), script\-\_\-cache\-\_\-get\-\_\-script(), and connection\-::write\-\_\-queue.



Referenced by magnet\-\_\-attract\-\_\-array().

\hypertarget{mod__magnet_8c_a31baaa8c1c5f10c5ae86bd44671320f2}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-attract\-\_\-array@{magnet\-\_\-attract\-\_\-array}}
\index{magnet\-\_\-attract\-\_\-array@{magnet\-\_\-attract\-\_\-array}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-attract\-\_\-array}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf handler\-\_\-t} magnet\-\_\-attract\-\_\-array (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf plugin\-\_\-data} $\ast$}]{p, }
\item[{{\bf array} $\ast$}]{files}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a31baaa8c1c5f10c5ae86bd44671320f2}
execute all files and jump out on the first !\-H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N

References array\-\_\-get\-\_\-element(), buffer\-\_\-string\-\_\-is\-\_\-empty(), array\-::data, connection\-::environment, connection\-::error\-\_\-handler\-\_\-saved\-\_\-status, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, magnet\-\_\-attract(), buffer\-::ptr, array\-::used, and data\-\_\-string\-::value.



Referenced by U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__magnet_8c_a65a45d6dc4bef8bf52676b90783f17bb}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-cgi\-\_\-get@{magnet\-\_\-cgi\-\_\-get}}
\index{magnet\-\_\-cgi\-\_\-get@{magnet\-\_\-cgi\-\_\-get}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-cgi\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-cgi\-\_\-get (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a65a45d6dc4bef8bf52676b90783f17bb}


References array\-\_\-get\-\_\-element(), buffer\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, connection\-::environment, magnet\-\_\-get\-\_\-connection(), and data\-\_\-string\-::value.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_adb416df4051b0c4487f992c0aaa781ae}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-cgi\-\_\-pairs@{magnet\-\_\-cgi\-\_\-pairs}}
\index{magnet\-\_\-cgi\-\_\-pairs@{magnet\-\_\-cgi\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-cgi\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-cgi\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_adb416df4051b0c4487f992c0aaa781ae}


References connection\-::environment, magnet\-\_\-array\-\_\-pairs(), and magnet\-\_\-get\-\_\-connection().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_adfe788405d36539d09437d27078acfe2}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-cgi\-\_\-set@{magnet\-\_\-cgi\-\_\-set}}
\index{magnet\-\_\-cgi\-\_\-set@{magnet\-\_\-cgi\-\_\-set}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-cgi\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-cgi\-\_\-set (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_adfe788405d36539d09437d27078acfe2}


References array\-\_\-set\-\_\-key\-\_\-value(), connection\-::environment, const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), magnet\-\_\-get\-\_\-connection(), and const\-\_\-buffer\-::ptr.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a725a53362a3a7434ba440d01129a7946}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-checkbuffer@{magnet\-\_\-checkbuffer}}
\index{magnet\-\_\-checkbuffer@{magnet\-\_\-checkbuffer}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-checkbuffer}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf buffer}$\ast$ magnet\-\_\-checkbuffer (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a725a53362a3a7434ba440d01129a7946}


References buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-init(), const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), and const\-\_\-buffer\-::ptr.



Referenced by magnet\-\_\-atpanic(), magnet\-\_\-attach\-\_\-content(), magnet\-\_\-print(), and magnet\-\_\-stat().

\hypertarget{mod__magnet_8c_a6f09b890e72da29c895161673e02bb51}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-checkconstbuffer@{magnet\-\_\-checkconstbuffer}}
\index{magnet\-\_\-checkconstbuffer@{magnet\-\_\-checkconstbuffer}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-checkconstbuffer}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf const\-\_\-buffer} magnet\-\_\-checkconstbuffer (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a6f09b890e72da29c895161673e02bb51}


References const\-\_\-buffer\-::len, and const\-\_\-buffer\-::ptr.



Referenced by magnet\-\_\-attach\-\_\-content(), magnet\-\_\-cgi\-\_\-set(), magnet\-\_\-checkbuffer(), magnet\-\_\-copy\-\_\-response\-\_\-header(), magnet\-\_\-env\-\_\-set(), magnet\-\_\-status\-\_\-get(), and magnet\-\_\-status\-\_\-set().

\hypertarget{mod__magnet_8c_a9538671768186fd04a1dadf7062f8452}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-copy\-\_\-response\-\_\-header@{magnet\-\_\-copy\-\_\-response\-\_\-header}}
\index{magnet\-\_\-copy\-\_\-response\-\_\-header@{magnet\-\_\-copy\-\_\-response\-\_\-header}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-copy\-\_\-response\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-copy\-\_\-response\-\_\-header (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{lighty\-\_\-table\-\_\-ndx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a9538671768186fd04a1dadf7062f8452}


References force\-\_\-assert, const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), const\-\_\-buffer\-::ptr, and response\-\_\-header\-\_\-overwrite().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_ae02c39bc4cec31a8554762ef73fa76a4}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-get@{magnet\-\_\-env\-\_\-get}}
\index{magnet\-\_\-env\-\_\-get@{magnet\-\_\-env\-\_\-get}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-env\-\_\-get (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_ae02c39bc4cec31a8554762ef73fa76a4}


References buffer\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, magnet\-\_\-env\-\_\-get\-\_\-buffer(), magnet\-\_\-get\-\_\-connection(), and magnet\-\_\-get\-\_\-server().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a78e3bb48ad1113a1e938eaa875283137}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-get\-\_\-buffer@{magnet\-\_\-env\-\_\-get\-\_\-buffer}}
\index{magnet\-\_\-env\-\_\-get\-\_\-buffer@{magnet\-\_\-env\-\_\-get\-\_\-buffer}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-get\-\_\-buffer}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf buffer}$\ast$ magnet\-\_\-env\-\_\-get\-\_\-buffer (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{const char $\ast$}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a78e3bb48ad1113a1e938eaa875283137}


References magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id(), and magnet\-\_\-env\-\_\-t\-::name.



Referenced by magnet\-\_\-env\-\_\-get(), and magnet\-\_\-env\-\_\-set().

\hypertarget{mod__magnet_8c_add0bfdc19f995c440b6ff6c01019c68e}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id@{magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id}}
\index{magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id@{magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf buffer}$\ast$ magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{int}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_add0bfdc19f995c440b6ff6c01019c68e}
map all internal variables to lua

References request\-\_\-uri\-::authority, physical\-::basedir, buffer\-\_\-copy\-\_\-string(), physical\-::doc\-\_\-root, connection\-::dst\-\_\-addr\-\_\-buf, get\-\_\-http\-\_\-method\-\_\-name(), get\-\_\-http\-\_\-version\-\_\-name(), request\-::http\-\_\-method, request\-::http\-\_\-version, request\-::orig\-\_\-uri, request\-\_\-uri\-::path, physical\-::path, request\-\_\-uri\-::path\-\_\-raw, request\-::pathinfo, connection\-::physical, request\-\_\-uri\-::query, physical\-::rel\-\_\-path, connection\-::request, request\-\_\-uri\-::scheme, server\-::tmp\-\_\-buf, U\-N\-U\-S\-E\-D, request\-::uri, and connection\-::uri.



Referenced by magnet\-\_\-env\-\_\-get\-\_\-buffer(), and magnet\-\_\-env\-\_\-next().

\hypertarget{mod__magnet_8c_a0e35aa6b5dd9889d0f907deeb92af756}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-next@{magnet\-\_\-env\-\_\-next}}
\index{magnet\-\_\-env\-\_\-next@{magnet\-\_\-env\-\_\-next}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-next}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-env\-\_\-next (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a0e35aa6b5dd9889d0f907deeb92af756}


References buffer\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, magnet\-\_\-env\-\_\-get\-\_\-buffer\-\_\-by\-\_\-id(), magnet\-\_\-get\-\_\-connection(), and magnet\-\_\-get\-\_\-server().



Referenced by magnet\-\_\-env\-\_\-pairs().

\hypertarget{mod__magnet_8c_aba4af43c198cade90a4dc78a481d9776}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-pairs@{magnet\-\_\-env\-\_\-pairs}}
\index{magnet\-\_\-env\-\_\-pairs@{magnet\-\_\-env\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-env\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_aba4af43c198cade90a4dc78a481d9776}


References magnet\-\_\-env\-\_\-next().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_add72c5b86576fe6831eee4f44fe96aac}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env\-\_\-set@{magnet\-\_\-env\-\_\-set}}
\index{magnet\-\_\-env\-\_\-set@{magnet\-\_\-env\-\_\-set}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-env\-\_\-set (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_add72c5b86576fe6831eee4f44fe96aac}


References buffer\-\_\-copy\-\_\-string\-\_\-len(), buffer\-\_\-reset(), const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), magnet\-\_\-env\-\_\-get\-\_\-buffer(), magnet\-\_\-get\-\_\-connection(), magnet\-\_\-get\-\_\-server(), and const\-\_\-buffer\-::ptr.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a112c49ae34e455265a0e99a4ff3b926d}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-get\-\_\-connection@{magnet\-\_\-get\-\_\-connection}}
\index{magnet\-\_\-get\-\_\-connection@{magnet\-\_\-get\-\_\-connection}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-get\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf connection}$\ast$ magnet\-\_\-get\-\_\-connection (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a112c49ae34e455265a0e99a4ff3b926d}


References L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N.



Referenced by magnet\-\_\-cgi\-\_\-get(), magnet\-\_\-cgi\-\_\-pairs(), magnet\-\_\-cgi\-\_\-set(), magnet\-\_\-env\-\_\-get(), magnet\-\_\-env\-\_\-next(), magnet\-\_\-env\-\_\-set(), magnet\-\_\-reqhdr\-\_\-get(), magnet\-\_\-reqhdr\-\_\-pairs(), and magnet\-\_\-stat().

\hypertarget{mod__magnet_8c_aab0daa19d0083f8fef0215e8e83bf3c8}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-get\-\_\-server@{magnet\-\_\-get\-\_\-server}}
\index{magnet\-\_\-get\-\_\-server@{magnet\-\_\-get\-\_\-server}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-get\-\_\-server}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf server}$\ast$ magnet\-\_\-get\-\_\-server (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_aab0daa19d0083f8fef0215e8e83bf3c8}


References L\-U\-A\-\_\-\-R\-I\-D\-X\-\_\-\-L\-I\-G\-H\-T\-T\-P\-D\-\_\-\-S\-E\-R\-V\-E\-R.



Referenced by magnet\-\_\-atpanic(), magnet\-\_\-env\-\_\-get(), magnet\-\_\-env\-\_\-next(), magnet\-\_\-env\-\_\-set(), magnet\-\_\-print(), magnet\-\_\-stat(), magnet\-\_\-status\-\_\-get(), magnet\-\_\-status\-\_\-pairs(), and magnet\-\_\-status\-\_\-set().

\hypertarget{mod__magnet_8c_a1373dca24e8333e54d1759bac7a4f72e}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-pairs@{magnet\-\_\-pairs}}
\index{magnet\-\_\-pairs@{magnet\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a1373dca24e8333e54d1759bac7a4f72e}


Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a0c7621904d06efce59be1bdbeac3d012}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-print@{magnet\-\_\-print}}
\index{magnet\-\_\-print@{magnet\-\_\-print}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-print}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-print (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a0c7621904d06efce59be1bdbeac3d012}


References buffer\-\_\-free(), log\-\_\-error\-\_\-write(), magnet\-\_\-checkbuffer(), and magnet\-\_\-get\-\_\-server().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a0556e1c17744987e244c4b3fca3c86a4}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-reqhdr\-\_\-get@{magnet\-\_\-reqhdr\-\_\-get}}
\index{magnet\-\_\-reqhdr\-\_\-get@{magnet\-\_\-reqhdr\-\_\-get}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-reqhdr\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-reqhdr\-\_\-get (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a0556e1c17744987e244c4b3fca3c86a4}


References array\-\_\-get\-\_\-element(), buffer\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, request\-::headers, magnet\-\_\-get\-\_\-connection(), connection\-::request, and data\-\_\-string\-::value.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a232ba5a53d694e737bfd3a18926206e1}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-reqhdr\-\_\-pairs@{magnet\-\_\-reqhdr\-\_\-pairs}}
\index{magnet\-\_\-reqhdr\-\_\-pairs@{magnet\-\_\-reqhdr\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-reqhdr\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-reqhdr\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a232ba5a53d694e737bfd3a18926206e1}


References request\-::headers, magnet\-\_\-array\-\_\-pairs(), magnet\-\_\-get\-\_\-connection(), and connection\-::request.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a527360f53ae7f574690e59ec9ee17625}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-setfenv\-\_\-mainfn@{magnet\-\_\-setfenv\-\_\-mainfn}}
\index{magnet\-\_\-setfenv\-\_\-mainfn@{magnet\-\_\-setfenv\-\_\-mainfn}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-setfenv\-\_\-mainfn}]{\setlength{\rightskip}{0pt plus 5cm}static void magnet\-\_\-setfenv\-\_\-mainfn (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{func\-Index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a527360f53ae7f574690e59ec9ee17625}


Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a16d9be64ef5526e50847c8939ae63726}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-stat@{magnet\-\_\-stat}}
\index{magnet\-\_\-stat@{magnet\-\_\-stat}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-stat}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-stat (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a16d9be64ef5526e50847c8939ae63726}


References buffer\-\_\-free(), buffer\-\_\-init(), buffer\-\_\-string\-\_\-is\-\_\-empty(), C\-O\-N\-S\-T\-\_\-\-B\-U\-F\-\_\-\-L\-E\-N, stat\-\_\-cache\-\_\-entry\-::content\-\_\-type, stat\-\_\-cache\-\_\-entry\-::etag, etag\-\_\-mutate(), H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, magnet\-\_\-checkbuffer(), magnet\-\_\-get\-\_\-connection(), magnet\-\_\-get\-\_\-server(), stat\-\_\-cache\-\_\-entry\-::st, and stat\-\_\-cache\-\_\-get\-\_\-entry().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_acd3ee9f73883c5e191bffcdcf3f70328}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-status\-\_\-get@{magnet\-\_\-status\-\_\-get}}
\index{magnet\-\_\-status\-\_\-get@{magnet\-\_\-status\-\_\-get}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-status\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-status\-\_\-get (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_acd3ee9f73883c5e191bffcdcf3f70328}


References const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), magnet\-\_\-get\-\_\-server(), const\-\_\-buffer\-::ptr, status\-\_\-counter\-\_\-get\-\_\-counter(), and data\-\_\-integer\-::value.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a5833d18078b86430eacd2afa6797e495}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-status\-\_\-pairs@{magnet\-\_\-status\-\_\-pairs}}
\index{magnet\-\_\-status\-\_\-pairs@{magnet\-\_\-status\-\_\-pairs}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-status\-\_\-pairs}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-status\-\_\-pairs (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a5833d18078b86430eacd2afa6797e495}


References magnet\-\_\-array\-\_\-pairs(), magnet\-\_\-get\-\_\-server(), and server\-::status.



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a9cc2687cb483b15c6e83056453798166}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-status\-\_\-set@{magnet\-\_\-status\-\_\-set}}
\index{magnet\-\_\-status\-\_\-set@{magnet\-\_\-status\-\_\-set}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-status\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}static int magnet\-\_\-status\-\_\-set (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a9cc2687cb483b15c6e83056453798166}


References const\-\_\-buffer\-::len, magnet\-\_\-checkconstbuffer(), magnet\-\_\-get\-\_\-server(), const\-\_\-buffer\-::ptr, and status\-\_\-counter\-\_\-set().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_ae7bdc9f3db948b75eb832609c5764918}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!mod\-\_\-magnet\-\_\-patch\-\_\-connection@{mod\-\_\-magnet\-\_\-patch\-\_\-connection}}
\index{mod\-\_\-magnet\-\_\-patch\-\_\-connection@{mod\-\_\-magnet\-\_\-patch\-\_\-connection}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{mod\-\_\-magnet\-\_\-patch\-\_\-connection}]{\setlength{\rightskip}{0pt plus 5cm}static int mod\-\_\-magnet\-\_\-patch\-\_\-connection (
\begin{DoxyParamCaption}
\item[{{\bf server} $\ast$}]{srv, }
\item[{{\bf connection} $\ast$}]{con, }
\item[{{\bf plugin\-\_\-data} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_ae7bdc9f3db948b75eb832609c5764918}


References buffer\-\_\-is\-\_\-equal\-\_\-string(), config\-\_\-check\-\_\-cond(), server\-::config\-\_\-context, plugin\-\_\-data\-::config\-\_\-storage, C\-O\-N\-S\-T\-\_\-\-S\-T\-R\-\_\-\-L\-E\-N, array\-::data, M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H, M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L, P\-A\-T\-C\-H, array\-::used, and data\-\_\-config\-::value.



Referenced by U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C().

\hypertarget{mod__magnet_8c_a5dfc152e0651eafbf4ca08e2e032886f}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!mod\-\_\-magnet\-\_\-plugin\-\_\-init@{mod\-\_\-magnet\-\_\-plugin\-\_\-init}}
\index{mod\-\_\-magnet\-\_\-plugin\-\_\-init@{mod\-\_\-magnet\-\_\-plugin\-\_\-init}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{mod\-\_\-magnet\-\_\-plugin\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int mod\-\_\-magnet\-\_\-plugin\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf plugin} $\ast$}]{p}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_a5dfc152e0651eafbf4ca08e2e032886f}


References buffer\-\_\-init\-\_\-string(), plugin\-::cleanup, plugin\-::data, plugin\-::handle\-\_\-physical, plugin\-::handle\-\_\-uri\-\_\-clean, plugin\-::init, plugin\-::name, plugin\-::set\-\_\-defaults, and plugin\-::version.

\hypertarget{mod__magnet_8c_a3b13dbb7fac2dd24322f0338cf15973a}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!push\-\_\-traceback@{push\-\_\-traceback}}
\index{push\-\_\-traceback@{push\-\_\-traceback}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{push\-\_\-traceback}]{\setlength{\rightskip}{0pt plus 5cm}static int push\-\_\-traceback (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L, }
\item[{int}]{narg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a3b13dbb7fac2dd24322f0338cf15973a}


References traceback().



Referenced by magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a3f5b5722871b42000e195aea6c632a6e}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}}
\index{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C@{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}S\-E\-T\-D\-E\-F\-A\-U\-L\-T\-S\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-magnet\-\_\-set\-\_\-defaults}]{}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_a3f5b5722871b42000e195aea6c632a6e}


References array\-\_\-init(), config\-\_\-insert\-\_\-values\-\_\-global(), plugin\-\_\-data\-::config\-\_\-storage, config\-\_\-values\-\_\-t\-::destination, H\-A\-N\-D\-L\-E\-R\-\_\-\-E\-R\-R\-O\-R, H\-A\-N\-D\-L\-E\-R\-\_\-\-G\-O\-\_\-\-O\-N, M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-P\-H\-Y\-S\-I\-C\-A\-L\-\_\-\-P\-A\-T\-H, M\-A\-G\-N\-E\-T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-R\-A\-W\-\_\-\-U\-R\-L, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-A\-R\-R\-A\-Y, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-S\-E\-R\-V\-E\-R, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-S\-C\-O\-P\-E\-\_\-\-U\-N\-S\-E\-T, T\-\_\-\-C\-O\-N\-F\-I\-G\-\_\-\-U\-N\-S\-E\-T, plugin\-\_\-config\-::url\-\_\-raw, and data\-\_\-config\-::value.

\hypertarget{mod__magnet_8c_a8db81089117260e8931fbfc9631bd229}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!traceback@{traceback}}
\index{traceback@{traceback}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{traceback}]{\setlength{\rightskip}{0pt plus 5cm}static int traceback (
\begin{DoxyParamCaption}
\item[{lua\-\_\-\-State $\ast$}]{L}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a8db81089117260e8931fbfc9631bd229}


Referenced by push\-\_\-traceback().

\hypertarget{mod__magnet_8c_a9ac85469827245f67e6805561e381c0b}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}}
\index{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-magnet\-\_\-uri\-\_\-handler}]{}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_a9ac85469827245f67e6805561e381c0b}


References plugin\-\_\-data\-::conf, magnet\-\_\-attract\-\_\-array(), mod\-\_\-magnet\-\_\-patch\-\_\-connection(), and plugin\-\_\-config\-::url\-\_\-raw.

\hypertarget{mod__magnet_8c_aa8c3e069cbf4411f36debb19bbeb05d1}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}}
\index{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C@{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}U\-R\-I\-H\-A\-N\-D\-L\-E\-R\-\_\-\-F\-U\-N\-C (
\begin{DoxyParamCaption}
\item[{mod\-\_\-magnet\-\_\-physical}]{}
\end{DoxyParamCaption}
)}}\label{mod__magnet_8c_aa8c3e069cbf4411f36debb19bbeb05d1}


References plugin\-\_\-data\-::conf, magnet\-\_\-attract\-\_\-array(), mod\-\_\-magnet\-\_\-patch\-\_\-connection(), and plugin\-\_\-config\-::physical\-\_\-path.



\subsection{Variable Documentation}
\hypertarget{mod__magnet_8c_a977925ef2050ef6d55c8c6343261b205}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!exceptionjmp@{exceptionjmp}}
\index{exceptionjmp@{exceptionjmp}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{exceptionjmp}]{\setlength{\rightskip}{0pt plus 5cm}jmp\-\_\-buf exceptionjmp\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a977925ef2050ef6d55c8c6343261b205}


Referenced by magnet\-\_\-atpanic(), and magnet\-\_\-attract().

\hypertarget{mod__magnet_8c_a7556b6926edc64f07861126c9368d98f}{\index{mod\-\_\-magnet.\-c@{mod\-\_\-magnet.\-c}!magnet\-\_\-env@{magnet\-\_\-env}}
\index{magnet\-\_\-env@{magnet\-\_\-env}!mod_magnet.c@{mod\-\_\-magnet.\-c}}
\subsubsection[{magnet\-\_\-env}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf magnet\-\_\-env\-\_\-t} magnet\-\_\-env\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{mod__magnet_8c_a7556b6926edc64f07861126c9368d98f}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{
    \{ \textcolor{stringliteral}{"physical.path"}, MAGNET\_ENV\_PHYICAL\_PATH \},
    \{ \textcolor{stringliteral}{"physical.rel-path"}, MAGNET\_ENV\_PHYICAL\_REL\_PATH \},
    \{ \textcolor{stringliteral}{"physical.doc-root"}, MAGNET\_ENV\_PHYICAL\_DOC\_ROOT \},
    \{ \textcolor{stringliteral}{"physical.basedir"}, MAGNET\_ENV\_PHYICAL\_BASEDIR \},

    \{ \textcolor{stringliteral}{"uri.path"}, MAGNET\_ENV\_URI\_PATH \},
    \{ \textcolor{stringliteral}{"uri.path-raw"}, MAGNET\_ENV\_URI\_PATH\_RAW \},
    \{ \textcolor{stringliteral}{"uri.scheme"}, MAGNET\_ENV\_URI\_SCHEME \},
    \{ \textcolor{stringliteral}{"uri.authority"}, MAGNET\_ENV\_URI\_AUTHORITY \},
    \{ \textcolor{stringliteral}{"uri.query"}, MAGNET\_ENV\_URI\_QUERY \},

    \{ \textcolor{stringliteral}{"request.method"}, MAGNET\_ENV\_REQUEST\_METHOD \},
    \{ \textcolor{stringliteral}{"request.uri"}, MAGNET\_ENV\_REQUEST\_URI \},
    \{ \textcolor{stringliteral}{"request.orig-uri"}, MAGNET\_ENV\_REQUEST\_ORIG\_URI \},
    \{ \textcolor{stringliteral}{"request.path-info"}, MAGNET\_ENV\_REQUEST\_PATH\_INFO \},
    \{ \textcolor{stringliteral}{"request.remote-ip"}, MAGNET\_ENV\_REQUEST\_REMOTE\_IP \},
    \{ \textcolor{stringliteral}{"request.protocol"}, MAGNET\_ENV\_REQUEST\_PROTOCOL \},

    \{ NULL, MAGNET\_ENV\_UNSET \}
\}
\end{DoxyCode}
