Running Trimmer on all applications with runbench script
=======

1) Build Trimmer on your machine along with the dependencies of the benchmark examples

2) Run `./runbench.py --sets="TSE-2020.set" --trimmer-opts=""`

3) Finally, run `bash reset.sh` before running the rubench script again. reset.sh deletes old executables and bitcode of applications to allow runbench script to be used again

The runbench.py script will run Trimmer on all applications that are enabled in the provided set and print the statistics (e.g. reductions in file size, instructions, functions, and memory instructions) in a table. To enable or disable (skip) examples in the TSE-2020 set, modify TSE-2020.set to toggle the _enabled_ option (i.e. make true or false).

### Trimmer Options:
Trimmer can be run with different options such as loop-unroll, string-specialize and file-specialize. User can provide these options through _--trimmer-opts_. e.g if anyone is only interested in running Trimmer with loop-unroll pass, run this command `./runbench.py --sets="TSE-2020.set" --trimmer-opts="loop-unroll"`. Options available with trimmer can be found [here](https://github.com/ashish-gehani/Trimmer/blob/master/docs/options.md).

### Manifest Files:
The manifest files for every each benchmark in the TSE-2020 examples are automatically generated by the build.sh script. Every build.sh script calls a make command in the Makefile to generate the manifest files and run trimmer.

### Logging:
Logs generated by the runbench script are saved in the "Logs" folder in the running directory. To change the default directory for the log files, use the _--temp-dirs=\<dir\>_ flag. To disable logging, use the _--remove-temps_ flag. By default, debug messages of Trimmer are not printed. To activate this ouput, use: `export TRIMMER_DEBUG=Yes`. The messages will be printed in a `log.txt` file in the working directories of the examples. 
